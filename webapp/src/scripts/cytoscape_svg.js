!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.cytoscapeSvg=e():t.cytoscapeSvg=e()}(window,(function(){return function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";var i=r(1),n=function(t){t&&t("core","svg",i.svg)};"undefined"!=typeof cytoscape&&n(cytoscape),t.exports=n},function(t,e,r){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=r(2),o={},s={};s.number=function(t){return null!=t&&(void 0===t?"undefined":i(t))===i(1)&&!isNaN(t)},o.bufferCanvasImage=function(t,e){var r=e.renderer().usePaths;e.renderer().usePaths=function(){return!1},e.elements().forEach((function(t){t._private.rscratch.pathCacheKey=null,t._private.rscratch.pathCache=null}));var i=e.renderer(),o=e.mutableElements().boundingBox(),a=i.findContainerClientCoords(),l=t.full?Math.ceil(o.w):a[2],h=t.full?Math.ceil(o.h):a[3],c=s.number(t.maxWidth)||s.number(t.maxHeight),p=i.getPixelRatio(),u=1;if(void 0!==t.scale)l*=t.scale,h*=t.scale,u=t.scale;else if(c){var _=1/0,d=1/0;s.number(t.maxWidth)&&(_=u*t.maxWidth/l),s.number(t.maxHeight)&&(d=u*t.maxHeight/h),l*=u=Math.min(_,d),h*=u}c||(l*=p,h*=p,u*=p);var f=null,g=f=new n(l,h);if(l>0&&h>0){f.clearRect(0,0,l,h),t.bg&&(f.globalCompositeOperation="destination-over",f.fillStyle=t.bg,f.fillRect(0,0,l,h)),f.globalCompositeOperation="source-over";var m=i.getCachedZSortedEles();if(t.full)f.translate(-o.x1*u,-o.y1*u),f.scale(u,u),i.drawElements(f,m),f.scale(1/u,1/u),f.translate(o.x1*u,o.y1*u);else{var y=e.pan(),v={x:y.x*u,y:y.y*u};u*=e.zoom(),f.translate(v.x,v.y),f.scale(u,u),i.drawElements(f,m),f.scale(1/u,1/u),f.translate(-v.x,-v.y)}}return e.renderer().usePaths=r,g},o.svg=function(t){return o.bufferCanvasImage(t||{},this).getSerializedSvg()},t.exports=o},function(t,e,r){!function(){"use strict";var e,r,i,n,o;function s(t,e){var r,i=Object.keys(e);for(r=0;r<i.length;r++)t=t.replace(new RegExp("\\{"+i[r]+"\\}","gi"),e[i[r]]);return t}function a(t){var e,r,i;if(!t)throw new Error("cannot create a random attribute name for an undefined object");e="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",r="";do{for(r="",i=0;i<12;i++)r+=e[Math.floor(Math.random()*e.length)]}while(t[r]);return r}function l(t){var e={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return e[t]||e.alphabetic}o=function(t,e){var r,i,n,o={};for(t=t.split(","),e=e||10,r=0;r<t.length;r+=2)i="&"+t[r+1]+";",n=parseInt(t[r],e),o[i]="&#"+n+";";return o["\\xa0"]="&#160;",o}("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),e={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"},lineDash:{svgAttr:"stroke-dasharray",canvas:[],svg:null,apply:"stroke"}},(i=function(t,e){this.__root=t,this.__ctx=e}).prototype.addColorStop=function(t,e){var r,i=this.__ctx.__createElement("stop");i.setAttribute("offset",t),-1!==e.indexOf("rgba")?(r=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(e),i.setAttribute("stop-color",s("rgb({r},{g},{b})",{r:r[1],g:r[2],b:r[3]})),i.setAttribute("stop-opacity",r[4])):i.setAttribute("stop-color",e),this.__root.appendChild(i)},n=function(t,e){this.__root=t,this.__ctx=e},(r=function(t){var e,i={width:500,height:500,enableMirroring:!1};if(arguments.length>1?((e=i).width=arguments[0],e.height=arguments[1]):e=t||i,!(this instanceof r))return new r(e);this.width=e.width||i.width,this.height=e.height||i.height,this.enableMirroring=void 0!==e.enableMirroring?e.enableMirroring:i.enableMirroring,this.canvas=this,this.__document=e.document||document,e.ctx?this.__ctx=e.ctx:(this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d")),this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__document.createElementNS("http://www.w3.org/2000/svg","svg"),this.__root.setAttribute("version",1.1),this.__root.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.__root.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__ids={},this.__defs=this.__document.createElementNS("http://www.w3.org/2000/svg","defs"),this.__root.appendChild(this.__defs),this.__currentElement=this.__document.createElementNS("http://www.w3.org/2000/svg","g"),this.__root.appendChild(this.__currentElement)}).prototype.__createElement=function(t,e,r){void 0===e&&(e={});var i,n,o=this.__document.createElementNS("http://www.w3.org/2000/svg",t),s=Object.keys(e);for(r&&(o.setAttribute("fill","none"),o.setAttribute("stroke","none")),i=0;i<s.length;i++)n=s[i],o.setAttribute(n,e[n]);return o},r.prototype.__setDefaultStyles=function(){var t,r,i=Object.keys(e);for(t=0;t<i.length;t++)this[r=i[t]]=e[r].canvas},r.prototype.__applyStyleState=function(t){if(t){var e,r,i=Object.keys(t);for(e=0;e<i.length;e++)this[r=i[e]]=t[r]}},r.prototype.__getStyleState=function(){var t,r,i={},n=Object.keys(e);for(t=0;t<n.length;t++)i[r=n[t]]=this[r];return i},r.prototype.__applyStyleToCurrentElement=function(t){var r=this.__currentElement;this.__currentElementsToStyle;var o,a,l,h,c,p=Object.keys(e);for(o=0;o<p.length;o++)if(a=e[p[o]],l=this[p[o]],a.apply)if(l instanceof n){if(l.__ctx)for(;l.__ctx.__defs.childNodes.length;)h=l.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[h]=h,this.__defs.appendChild(l.__ctx.__defs.childNodes[0]);r.setAttribute(a.apply,s("url(#{id})",{id:l.__root.getAttribute("id")}))}else if(l instanceof i)r.setAttribute(a.apply,s("url(#{id})",{id:l.__root.getAttribute("id")}));else if(-1!==a.apply.indexOf(t)&&a.svg!==l)if("stroke"!==a.svgAttr&&"fill"!==a.svgAttr||-1===l.indexOf("rgba")){var u=a.svgAttr;if("globalAlpha"===p[o]&&(u=t+"-"+a.svgAttr,r.getAttribute(u)))continue;r.setAttribute(u,l)}else{c=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(l),r.setAttribute(a.svgAttr,s("rgb({r},{g},{b})",{r:c[1],g:c[2],b:c[3]}));var _=c[4],d=this.globalAlpha;null!=d&&(_*=d),r.setAttribute(a.svgAttr+"-opacity",_)}},r.prototype.__closestGroupOrSvg=function(t){return"g"===(t=t||this.__currentElement).nodeName||"svg"===t.nodeName?t:this.__closestGroupOrSvg(t.parentNode)},r.prototype.getSerializedSvg=function(t){var e,r,i,n,s,a=(new XMLSerializer).serializeToString(this.__root);if(/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi.test(a)&&(a=a.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink')),t)for(e=Object.keys(o),r=0;r<e.length;r++)i=e[r],n=o[i],(s=new RegExp(i,"gi")).test(a)&&(a=a.replace(s,n));return a},r.prototype.getSvg=function(){return this.__root},r.prototype.save=function(){var t=this.__createElement("g"),e=this.__closestGroupOrSvg();this.__groupStack.push(e),e.appendChild(t),this.__currentElement=t,this.__stack.push(this.__getStyleState())},r.prototype.restore=function(){this.__currentElement=this.__groupStack.pop(),this.__currentElementsToStyle=null,this.__currentElement||(this.__currentElement=this.__root.childNodes[1]);var t=this.__stack.pop();this.__applyStyleState(t)},r.prototype.__addTransform=function(t){var e=this.__closestGroupOrSvg();if(e.childNodes.length>0){"path"===this.__currentElement.nodeName&&(this.__currentElementsToStyle||(this.__currentElementsToStyle={element:e,children:[]}),this.__currentElementsToStyle.children.push(this.__currentElement),this.__applyCurrentDefaultPath());var r=this.__createElement("g");e.appendChild(r),this.__currentElement=r}var i=this.__currentElement.getAttribute("transform");i?i+=" ":i="",i+=t,this.__currentElement.setAttribute("transform",i)},r.prototype.scale=function(t,e){void 0===e&&(e=t),this.__addTransform(s("scale({x},{y})",{x:t,y:e}))},r.prototype.rotate=function(t){var e=180*t/Math.PI;this.__addTransform(s("rotate({angle},{cx},{cy})",{angle:e,cx:0,cy:0}))},r.prototype.translate=function(t,e){this.__addTransform(s("translate({x},{y})",{x:t,y:e}))},r.prototype.transform=function(t,e,r,i,n,o){this.__addTransform(s("matrix({a},{b},{c},{d},{e},{f})",{a:t,b:e,c:r,d:i,e:n,f:o}))},r.prototype.beginPath=function(){var t;this.__currentDefaultPath="",this.__currentPosition={},t=this.__createElement("path",{},!0),this.__closestGroupOrSvg().appendChild(t),this.__currentElement=t},r.prototype.__applyCurrentDefaultPath=function(){var t=this.__currentElement;"path"===t.nodeName?t.setAttribute("d",this.__currentDefaultPath):console.error("Attempted to apply path command to node",t.nodeName)},r.prototype.__addPathCommand=function(t){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=t},r.prototype.moveTo=function(t,e){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.__currentPosition={x:t,y:e},this.__addPathCommand(s("M {x} {y}",{x:t,y:e}))},r.prototype.closePath=function(){this.__currentDefaultPath&&this.__addPathCommand("Z")},r.prototype.lineTo=function(t,e){this.__currentPosition={x:t,y:e},this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(s("L {x} {y}",{x:t,y:e})):this.__addPathCommand(s("M {x} {y}",{x:t,y:e}))},r.prototype.bezierCurveTo=function(t,e,r,i,n,o){this.__currentPosition={x:n,y:o},this.__addPathCommand(s("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:t,cp1y:e,cp2x:r,cp2y:i,x:n,y:o}))},r.prototype.quadraticCurveTo=function(t,e,r,i){this.__currentPosition={x:r,y:i},this.__addPathCommand(s("Q {cpx} {cpy} {x} {y}",{cpx:t,cpy:e,x:r,y:i}))};var h=function(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]);return[t[0]/e,t[1]/e]};r.prototype.arcTo=function(t,e,r,i,n){var o=this.__currentPosition&&this.__currentPosition.x,s=this.__currentPosition&&this.__currentPosition.y;if(void 0!==o&&void 0!==s){if(n<0)throw new Error("IndexSizeError: The radius provided ("+n+") is negative.");if(o===t&&s===e||t===r&&e===i||0===n)this.lineTo(t,e);else{var a=h([o-t,s-e]),l=h([r-t,i-e]);if(a[0]*l[1]!=a[1]*l[0]){var c=a[0]*l[0]+a[1]*l[1],p=Math.acos(Math.abs(c)),u=h([a[0]+l[0],a[1]+l[1]]),_=n/Math.sin(p/2),d=t+_*u[0],f=e+_*u[1],g=[-a[1],a[0]],m=[l[1],-l[0]],y=function(t){var e=t[0];return t[1]>=0?Math.acos(e):-Math.acos(e)},v=y(g),b=y(m);this.lineTo(d+g[0]*n,f+g[1]*n),this.arc(d,f,n,v,b)}else this.lineTo(t,e)}}},r.prototype.stroke=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")},r.prototype.fill=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")},r.prototype.rect=function(t,e,r,i){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.moveTo(t,e),this.lineTo(t+r,e),this.lineTo(t+r,e+i),this.lineTo(t,e+i),this.lineTo(t,e),this.closePath()},r.prototype.fillRect=function(t,e,r,i){var n;n=this.__createElement("rect",{x:t,y:e,width:r,height:i},!0),this.__closestGroupOrSvg().appendChild(n),this.__currentElement=n,this.__applyStyleToCurrentElement("fill")},r.prototype.strokeRect=function(t,e,r,i){var n;n=this.__createElement("rect",{x:t,y:e,width:r,height:i},!0),this.__closestGroupOrSvg().appendChild(n),this.__currentElement=n,this.__applyStyleToCurrentElement("stroke")},r.prototype.__clearCanvas=function(){for(var t=this.__closestGroupOrSvg().getAttribute("transform"),e=this.__root.childNodes[1],r=e.childNodes,i=r.length-1;i>=0;i--)r[i]&&e.removeChild(r[i]);this.__currentElement=e,this.__groupStack=[],t&&this.__addTransform(t)},r.prototype.clearRect=function(t,e,r,i){if(0!==t||0!==e||r!==this.width||i!==this.height){var n,o=this.__closestGroupOrSvg();n=this.__createElement("rect",{x:t,y:e,width:r,height:i,fill:"#FFFFFF"},!0),o.appendChild(n)}else this.__clearCanvas()},r.prototype.createLinearGradient=function(t,e,r,n){var o=this.__createElement("linearGradient",{id:a(this.__ids),x1:t+"px",x2:r+"px",y1:e+"px",y2:n+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(o),new i(o,this)},r.prototype.createRadialGradient=function(t,e,r,n,o,s){var l=this.__createElement("radialGradient",{id:a(this.__ids),cx:n+"px",cy:o+"px",r:s+"px",fx:t+"px",fy:e+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(l),new i(l,this)},r.prototype.__parseFont=function(){var t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\'\"\sa-z0-9]+?)\s*$/i.exec(this.font),e={style:t[1]||"normal",size:t[4]||"10px",family:t[6]||"sans-serif",weight:t[3]||"normal",decoration:t[2]||"normal",href:null};return"underline"===this.__fontUnderline&&(e.decoration="underline"),this.__fontHref&&(e.href=this.__fontHref),e},r.prototype.__wrapTextLink=function(t,e){if(t.href){var r=this.__createElement("a");return r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.href),r.appendChild(e),r}return e},r.prototype.__applyText=function(t,e,r,i){var n,o,s=this.__parseFont(),a=this.__closestGroupOrSvg(),h=this.__createElement("text",{"font-family":s.family,"font-size":s.size,"font-style":s.style,"font-weight":s.weight,"text-decoration":s.decoration,x:e,y:r,"text-anchor":(n=this.textAlign,o={left:"start",right:"end",center:"middle",start:"start",end:"end"},o[n]||o.start),"dominant-baseline":l(this.textBaseline)},!0);h.appendChild(this.__document.createTextNode(t)),this.__currentElement=h,this.__applyStyleToCurrentElement(i),a.appendChild(this.__wrapTextLink(s,h))},r.prototype.fillText=function(t,e,r){this.__applyText(t,e,r,"fill")},r.prototype.strokeText=function(t,e,r){this.__applyText(t,e,r,"stroke")},r.prototype.measureText=function(t){return this.__ctx.font=this.font,this.__ctx.measureText(t)},r.prototype.arc=function(t,e,r,i,n,o){if(i!==n){(i%=2*Math.PI)===(n%=2*Math.PI)&&(n=(n+2*Math.PI-.001*(o?-1:1))%(2*Math.PI));var a=t+r*Math.cos(n),l=e+r*Math.sin(n),h=t+r*Math.cos(i),c=e+r*Math.sin(i),p=o?0:1,u=0,_=n-i;_<0&&(_+=2*Math.PI),u=o?_>Math.PI?0:1:_>Math.PI?1:0,this.lineTo(h,c),this.__addPathCommand(s("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:r,ry:r,xAxisRotation:0,largeArcFlag:u,sweepFlag:p,endX:a,endY:l})),this.__currentPosition={x:a,y:l}}},r.prototype.clip=function(){var t=this.__closestGroupOrSvg(),e=this.__createElement("clipPath"),r=a(this.__ids),i=this.__createElement("g");this.__applyCurrentDefaultPath(),t.removeChild(this.__currentElement),e.setAttribute("id",r),e.appendChild(this.__currentElement),this.__defs.appendChild(e),t.setAttribute("clip-path",s("url(#{id})",{id:r})),t.appendChild(i),this.__currentElement=i},r.prototype.drawImage=function(){var t,e,i,n,o,s,a,l,h,c,p,u,_,d=Array.prototype.slice.call(arguments),f=d[0],g=0,m=0;if(3===d.length)t=d[1],e=d[2],i=o=f.width,n=s=f.height;else if(5===d.length)t=d[1],e=d[2],i=d[3],n=d[4],o=f.width,s=f.height;else{if(9!==d.length)throw new Error("Inavlid number of arguments passed to drawImage: "+arguments.length);g=d[1],m=d[2],o=d[3],s=d[4],t=d[5],e=d[6],i=d[7],n=d[8]}a=this.__closestGroupOrSvg(),this.__currentElement;var y="translate("+t+", "+e+")";if(f instanceof r){if((l=f.getSvg().cloneNode(!0)).childNodes&&l.childNodes.length>1){for(h=l.childNodes[0];h.childNodes.length;)_=h.childNodes[0].getAttribute("id"),this.__ids[_]=_,this.__defs.appendChild(h.childNodes[0]);if(c=l.childNodes[1]){var v,b=c.getAttribute("transform");v=b?b+" "+y:y,c.setAttribute("transform",v),a.appendChild(c)}}}else"CANVAS"!==f.nodeName&&"IMG"!==f.nodeName||((p=this.__createElement("image")).setAttribute("width",i),p.setAttribute("height",n),p.setAttribute("opacity",this.globalAlpha),p.setAttribute("preserveAspectRatio","none"),(u=this.__document.createElement("canvas")).width=i,u.height=n,u.getContext("2d").drawImage(f,g,m,o,s,0,0,i,n),f=u,p.setAttribute("transform",y),p.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===f.nodeName?f.toDataURL():f.getAttribute("src")),a.appendChild(p))},r.prototype.createPattern=function(t,e){var i,o=this.__document.createElementNS("http://www.w3.org/2000/svg","pattern"),s=a(this.__ids);return o.setAttribute("id",s),o.setAttribute("width",t.width),o.setAttribute("height",t.height),"CANVAS"===t.nodeName||"IMG"===t.nodeName?((i=this.__document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("width",t.width),i.setAttribute("height",t.height),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===t.nodeName?t.toDataURL():t.getAttribute("src")),o.appendChild(i),this.__defs.appendChild(o)):t instanceof r&&(o.appendChild(t.__root.childNodes[1]),this.__defs.appendChild(o)),new n(o,this)},r.prototype.setLineDash=function(t){t&&t.length>0?this.lineDash=t.join(","):this.lineDash=null},r.prototype.drawFocusRing=function(){},r.prototype.createImageData=function(){},r.prototype.getImageData=function(){},r.prototype.putImageData=function(){},r.prototype.globalCompositeOperation=function(){},r.prototype.setTransform=function(){},"object"==typeof window&&(window.C2S=r),"object"==typeof t.exports&&(t.exports=r)}()}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jeXRvc2NhcGVTdmcvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL2N5dG9zY2FwZVN2Zy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9jeXRvc2NhcGVTdmcvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY3l0b3NjYXBlU3ZnLy4vc3JjL2NvbnZlcnQtdG8tc3ZnLmpzIiwid2VicGFjazovL2N5dG9zY2FwZVN2Zy8uL25vZGVfbW9kdWxlcy9jYW52YXMyc3ZnL2NhbnZhczJzdmcuanMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwid2luZG93IiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImltcGwiLCJyZXF1aXJlIiwicmVnaXN0ZXIiLCJjeXRvc2NhcGUiLCJzdmciLCJDMlMiLCJDUnAiLCJpcyIsIm51bWJlciIsIm9iaiIsImlzTmFOIiwiYnVmZmVyQ2FudmFzSW1hZ2UiLCJvcHRpb25zIiwiY3kiLCJ1c2VQYXRocyIsInJlbmRlcmVyIiwiZWxlbWVudHMiLCJmb3JFYWNoIiwiZWxlIiwiX3ByaXZhdGUiLCJyc2NyYXRjaCIsInBhdGhDYWNoZUtleSIsInBhdGhDYWNoZSIsImJiIiwibXV0YWJsZUVsZW1lbnRzIiwiYm91bmRpbmdCb3giLCJjdHJSZWN0IiwiZmluZENvbnRhaW5lckNsaWVudENvb3JkcyIsIndpZHRoIiwiZnVsbCIsIk1hdGgiLCJjZWlsIiwidyIsImhlaWdodCIsImgiLCJzcGVjZE1heERpbXMiLCJtYXhXaWR0aCIsIm1heEhlaWdodCIsInB4UmF0aW8iLCJnZXRQaXhlbFJhdGlvIiwic2NhbGUiLCJ1bmRlZmluZWQiLCJtYXhTY2FsZVciLCJJbmZpbml0eSIsIm1heFNjYWxlSCIsIm1pbiIsImJ1ZmZDeHQiLCJidWZmQ2FudmFzIiwiY2xlYXJSZWN0IiwiYmciLCJnbG9iYWxDb21wb3NpdGVPcGVyYXRpb24iLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsInpzb3J0ZWRFbGVzIiwiZ2V0Q2FjaGVkWlNvcnRlZEVsZXMiLCJ0cmFuc2xhdGUiLCJ4MSIsInkxIiwiZHJhd0VsZW1lbnRzIiwicGFuIiwidHJhbnNsYXRpb24iLCJ4IiwieSIsInpvb20iLCJ0aGlzIiwiZ2V0U2VyaWFsaXplZFN2ZyIsIlNUWUxFUyIsImN0eCIsIkNhbnZhc0dyYWRpZW50IiwiQ2FudmFzUGF0dGVybiIsIm5hbWVkRW50aXRpZXMiLCJmb3JtYXQiLCJzdHIiLCJhcmdzIiwia2V5cyIsImxlbmd0aCIsInJlcGxhY2UiLCJSZWdFeHAiLCJyYW5kb21TdHJpbmciLCJob2xkZXIiLCJjaGFycyIsInJhbmRvbXN0cmluZyIsIkVycm9yIiwiZmxvb3IiLCJyYW5kb20iLCJnZXREb21pbmFudEJhc2VsaW5lIiwidGV4dEJhc2VsaW5lIiwibWFwcGluZyIsImFscGhhYmV0aWMiLCJpdGVtcyIsInJhZGl4IiwiZW50aXR5IiwiYmFzZTEwIiwibG9va3VwIiwic3BsaXQiLCJwYXJzZUludCIsImNyZWF0ZU5hbWVkVG9OdW1iZXJlZExvb2t1cCIsInN2Z0F0dHIiLCJjYW52YXMiLCJhcHBseSIsImdyYWRpZW50Tm9kZSIsIl9fcm9vdCIsIl9fY3R4IiwiYWRkQ29sb3JTdG9wIiwib2Zmc2V0IiwiY29sb3IiLCJtYXRjaGVzIiwic3RvcCIsIl9fY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImluZGV4T2YiLCJleGVjIiwiZyIsImIiLCJhcHBlbmRDaGlsZCIsInBhdHRlcm4iLCJkZWZhdWx0T3B0aW9ucyIsImVuYWJsZU1pcnJvcmluZyIsImFyZ3VtZW50cyIsIl9fZG9jdW1lbnQiLCJkb2N1bWVudCIsIl9fY2FudmFzIiwiY3JlYXRlRWxlbWVudCIsImdldENvbnRleHQiLCJfX3NldERlZmF1bHRTdHlsZXMiLCJfX3N0YWNrIiwiX19nZXRTdHlsZVN0YXRlIiwiX19ncm91cFN0YWNrIiwiY3JlYXRlRWxlbWVudE5TIiwic2V0QXR0cmlidXRlTlMiLCJfX2lkcyIsIl9fZGVmcyIsIl9fY3VycmVudEVsZW1lbnQiLCJlbGVtZW50TmFtZSIsInByb3BlcnRpZXMiLCJyZXNldEZpbGwiLCJlbGVtZW50IiwiX19hcHBseVN0eWxlU3RhdGUiLCJzdHlsZVN0YXRlIiwiX19hcHBseVN0eWxlVG9DdXJyZW50RWxlbWVudCIsInR5cGUiLCJjdXJyZW50RWxlbWVudCIsIl9fY3VycmVudEVsZW1lbnRzVG9TdHlsZSIsInN0eWxlIiwiaWQiLCJjaGlsZE5vZGVzIiwiZ2V0QXR0cmlidXRlIiwiYXR0ciIsIm9wYWNpdHkiLCJnbG9iYWxBbHBoYSIsIl9fY2xvc2VzdEdyb3VwT3JTdmciLCJub2RlIiwibm9kZU5hbWUiLCJwYXJlbnROb2RlIiwiZml4TmFtZWRFbnRpdGllcyIsInJlZ2V4cCIsInNlcmlhbGl6ZWQiLCJYTUxTZXJpYWxpemVyIiwic2VyaWFsaXplVG9TdHJpbmciLCJ0ZXN0IiwiZ2V0U3ZnIiwic2F2ZSIsImdyb3VwIiwicGFyZW50IiwicHVzaCIsInJlc3RvcmUiLCJwb3AiLCJzdGF0ZSIsIl9fYWRkVHJhbnNmb3JtIiwiY2hpbGRyZW4iLCJfX2FwcGx5Q3VycmVudERlZmF1bHRQYXRoIiwidHJhbnNmb3JtIiwicm90YXRlIiwiYW5nbGUiLCJkZWdyZWVzIiwiUEkiLCJjeCIsImEiLCJlIiwiZiIsImJlZ2luUGF0aCIsInBhdGgiLCJfX2N1cnJlbnREZWZhdWx0UGF0aCIsIl9fY3VycmVudFBvc2l0aW9uIiwiY29uc29sZSIsImVycm9yIiwiX19hZGRQYXRoQ29tbWFuZCIsImNvbW1hbmQiLCJtb3ZlVG8iLCJjbG9zZVBhdGgiLCJsaW5lVG8iLCJiZXppZXJDdXJ2ZVRvIiwiY3AxeCIsImNwMXkiLCJjcDJ4IiwiY3AyeSIsInF1YWRyYXRpY0N1cnZlVG8iLCJjcHgiLCJjcHkiLCJub3JtYWxpemUiLCJ2ZWN0b3IiLCJsZW4iLCJzcXJ0IiwiYXJjVG8iLCJ4MiIsInkyIiwicmFkaXVzIiwieDAiLCJ5MCIsInVuaXRfdmVjX3AxX3AwIiwidW5pdF92ZWNfcDFfcDIiLCJjb3MiLCJ0aGV0YSIsImFjb3MiLCJhYnMiLCJ1bml0X3ZlY19wMV9vcmlnaW4iLCJsZW5fcDFfb3JpZ2luIiwic2luIiwidW5pdF92ZWNfb3JpZ2luX3N0YXJ0X3RhbmdlbnQiLCJ1bml0X3ZlY19vcmlnaW5fZW5kX3RhbmdlbnQiLCJnZXRBbmdsZSIsInN0YXJ0QW5nbGUiLCJlbmRBbmdsZSIsImFyYyIsInN0cm9rZSIsImZpbGwiLCJyZWN0Iiwic3Ryb2tlUmVjdCIsIl9fY2xlYXJDYW52YXMiLCJyb290R3JvdXAiLCJyZW1vdmVDaGlsZCIsImNyZWF0ZUxpbmVhckdyYWRpZW50IiwiZ3JhZCIsImNyZWF0ZVJhZGlhbEdyYWRpZW50IiwicjAiLCJyMSIsImZ4IiwiZnkiLCJfX3BhcnNlRm9udCIsImZvbnRQYXJ0IiwiZm9udCIsImRhdGEiLCJzaXplIiwiZmFtaWx5Iiwid2VpZ2h0IiwiZGVjb3JhdGlvbiIsImhyZWYiLCJfX2ZvbnRVbmRlcmxpbmUiLCJfX2ZvbnRIcmVmIiwiX193cmFwVGV4dExpbmsiLCJfX2FwcGx5VGV4dCIsInRleHQiLCJhY3Rpb24iLCJ0ZXh0QWxpZ24iLCJ0ZXh0RWxlbWVudCIsInN0YXJ0IiwiY3JlYXRlVGV4dE5vZGUiLCJmaWxsVGV4dCIsInN0cm9rZVRleHQiLCJtZWFzdXJlVGV4dCIsImNvdW50ZXJDbG9ja3dpc2UiLCJlbmRYIiwiZW5kWSIsInN0YXJ0WCIsInN0YXJ0WSIsInN3ZWVwRmxhZyIsImxhcmdlQXJjRmxhZyIsImRpZmYiLCJyeCIsInJ5IiwieEF4aXNSb3RhdGlvbiIsImNsaXAiLCJjbGlwUGF0aCIsIm5ld0dyb3VwIiwiZHJhd0ltYWdlIiwiZHgiLCJkeSIsImR3IiwiZGgiLCJzdyIsInNoIiwiZGVmcyIsInN2Z0ltYWdlIiwiQXJyYXkiLCJzbGljZSIsImltYWdlIiwic3giLCJzeSIsInRyYW5zbGF0ZURpcmVjdGl2ZSIsImNsb25lTm9kZSIsInRyYW5zZm9ybURpcmVjdGl2ZSIsIm9yaWdpblRyYW5zZm9ybSIsInRvRGF0YVVSTCIsImNyZWF0ZVBhdHRlcm4iLCJyZXBldGl0aW9uIiwiaW1nIiwic2V0TGluZURhc2giLCJkYXNoQXJyYXkiLCJsaW5lRGFzaCIsImpvaW4iLCJkcmF3Rm9jdXNSaW5nIiwiY3JlYXRlSW1hZ2VEYXRhIiwiZ2V0SW1hZ2VEYXRhIiwicHV0SW1hZ2VEYXRhIiwic2V0VHJhbnNmb3JtIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUEyQ0EsRUFBTUMsR0FDMUIsaUJBQVpDLFNBQTBDLGlCQUFYQyxPQUN4Q0EsT0FBT0QsUUFBVUQsSUFDUSxtQkFBWEcsUUFBeUJBLE9BQU9DLElBQzlDRCxPQUFPLEdBQUlILEdBQ2UsaUJBQVpDLFFBQ2RBLFFBQXNCLGFBQUlELElBRTFCRCxFQUFtQixhQUFJQyxJQVJ6QixDQVNHSyxRQUFRLFdBQ1gsTyxZQ1RFLElBQUlDLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVQLFFBR25DLElBQUlDLEVBQVNJLEVBQWlCRSxHQUFZLENBQ3pDQyxFQUFHRCxFQUNIRSxHQUFHLEVBQ0hULFFBQVMsSUFVVixPQU5BVSxFQUFRSCxHQUFVSSxLQUFLVixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTTSxHQUcvREwsRUFBT1EsR0FBSSxFQUdKUixFQUFPRCxRQTBEZixPQXJEQU0sRUFBb0JNLEVBQUlGLEVB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QUFTZ0wsRUFBTWpRLE9BQ3BDdUYsRUFBUU4sYUFBYSxTQUFVZ0wsRUFBTTVQLFFBQ2QsV0FBbkI0UCxFQUFNckksVUFBNEMsUUFBbkJxSSxFQUFNckksV0FDckMrSSxFQUFNdk8sS0FBS3VELFdBQVdTLGdCQUFnQiw2QkFBOEIsVUFDaEVuQixhQUFhLFFBQVNnTCxFQUFNalEsT0FDaEMyUSxFQUFJMUwsYUFBYSxTQUFVZ0wsRUFBTTVQLFFBQ2pDc1EsRUFBSXRLLGVBQWUsK0JBQWdDLGFBQzVCLFdBQW5CNEosRUFBTXJJLFNBQXdCcUksRUFBTU8sWUFBY1AsRUFBTTNJLGFBQWEsUUFDekUvQixFQUFRRCxZQUFZcUwsR0FDcEJ2TyxLQUFLbUUsT0FBT2pCLFlBQVlDLElBQ2pCMEssYUFBaUIxTixJQUN4QmdELEVBQVFELFlBQVkySyxFQUFNeEwsT0FBTzRDLFdBQVcsSUFDNUNqRixLQUFLbUUsT0FBT2pCLFlBQVlDLElBRXJCLElBQUk5QyxFQUFjOEMsRUFBU25ELE9BR3RDRyxFQUFJdkUsVUFBVTRTLFlBQWMsU0FBVUMsR0FDOUJBLEdBQWFBLEVBQVU5TixPQUFTLEVBQ2hDWCxLQUFLME8sU0FBV0QsRUFBVUUsS0FBSyxLQUUvQjNPLEtBQUswTyxTQUFXLE1BT3hCdk8sRUFBSXZFLFVBQVVnVCxjQUFnQixhQUM5QnpPLEVBQUl2RSxVQUFVaVQsZ0JBQWtCLGFBQ2hDMU8sRUFBSXZFLFVBQVVrVCxhQUFlLGFBQzdCM08sRUFBSXZFLFVBQVVtVCxhQUFlLGFBQzdCNU8sRUFBSXZFLFVBQVVzRCx5QkFBMkIsYUFDekNpQixFQUFJdkUsVUFBVW9ULGFBQWUsYUFHUCxpQkFBWHBWLFNBQ1BBLE9BQU95QyxJQUFNOEQsR0FJMkMsaUJBQW5CMUcsRUFBT0QsVUFDNUNDLEVBQU9ELFFBQVUyRyxHQWxyQ3hCIiwiZmlsZSI6ImN5dG9zY2FwZS1zdmcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJjeXRvc2NhcGVTdmdcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiY3l0b3NjYXBlU3ZnXCJdID0gZmFjdG9yeSgpO1xufSkod2luZG93LCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJjb25zdCBpbXBsID0gcmVxdWlyZSgnLi9jb252ZXJ0LXRvLXN2Zy5qcycpO1xuXG4vLyByZWdpc3RlcnMgdGhlIGV4dGVuc2lvbiBvbiBhIGN5dG9zY2FwZSBsaWIgcmVmXG5sZXQgcmVnaXN0ZXIgPSBmdW5jdGlvbiggY3l0b3NjYXBlICl7XG4gIGlmKCAhY3l0b3NjYXBlICl7IHJldHVybjsgfSAvLyBjYW4ndCByZWdpc3RlciBpZiBjeXRvc2NhcGUgdW5zcGVjaWZpZWRcblxuICBjeXRvc2NhcGUoICdjb3JlJywgJ3N2ZycsIGltcGwuc3ZnICk7IC8vIHJlZ2lzdGVyIHdpdGggY3l0b3NjYXBlLmpzXG59O1xuXG5pZiggdHlwZW9mIGN5dG9zY2FwZSAhPT0gJ3VuZGVmaW5lZCcgKXsgLy8gZXhwb3NlIHRvIGdsb2JhbCBjeXRvc2NhcGUgKGkuZS4gd2luZG93LmN5dG9zY2FwZSlcbiAgcmVnaXN0ZXIoIGN5dG9zY2FwZSApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJlZ2lzdGVyO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIE1vc3Qgb2YgdGhlIGNvZGUgaXMgdGFrZW4gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vaVZpcy1hdC1CaWxrZW50L2N5dG9zY2FwZS5qc1xuICogYW5kIGFkYXB0ZWRcbiAqL1xuXG52YXIgQzJTID0gcmVxdWlyZSgnY2FudmFzMnN2ZycpO1xuXG52YXIgQ1JwID0ge307XG52YXIgaXMgPSB7fTtcblxuaXMubnVtYmVyID0gb2JqID0+XG4gIG9iaiAhPSBudWxsICYmIHR5cGVvZiBvYmogPT09IHR5cGVvZiAxICYmICFpc05hTiggb2JqICk7XG5cbkNScC5idWZmZXJDYW52YXNJbWFnZSA9IGZ1bmN0aW9uKCBvcHRpb25zLCBjeSl7XG5cbiAgLy9kaXNhYmxlIHVzZVBhdGhzIHRlbXBvcmFyaWx5XG4gIHZhciB1c2VQYXRocyA9IGN5LnJlbmRlcmVyKCkudXNlUGF0aHM7XG4gIGN5LnJlbmRlcmVyKCkudXNlUGF0aHMgPSAoKSA9PiB7cmV0dXJuIGZhbHNlO31cbiAgLy8gZmx1c2ggcGF0aCBjYWNoZVxuICBjeS5lbGVtZW50cygpLmZvckVhY2goZnVuY3Rpb24oZWxlKSB7XG4gICAgZWxlLl9wcml2YXRlLnJzY3JhdGNoLnBhdGhDYWNoZUtleSA9IG51bGw7XG4gICAgZWxlLl9wcml2YXRlLnJzY3JhdGNoLnBhdGhDYWNoZSA9IG51bGw7XG4gIH0pO1xuXG4gIHZhciByZW5kZXJlciA9IGN5LnJlbmRlcmVyKCk7XG4gIHZhciBlbGVzID0gY3kubXV0YWJsZUVsZW1lbnRzKCk7XG4gIHZhciBiYiA9IGVsZXMuYm91bmRpbmdCb3goKTtcbiAgdmFyIGN0clJlY3QgPSByZW5kZXJlci5maW5kQ29udGFpbmVyQ2xpZW50Q29vcmRzKCk7XG4gIHZhciB3aWR0aCA9IG9wdGlvbnMuZnVsbCA/IE1hdGguY2VpbCggYmIudyApIDogY3RyUmVjdFsyXTtcbiAgdmFyIGhlaWdodCA9IG9wdGlvbnMuZnVsbCA/IE1hdGguY2VpbCggYmIuaCApIDogY3RyUmVjdFszXTtcbiAgdmFyIHNwZWNkTWF4RGltcyA9IGlzLm51bWJlciggb3B0aW9ucy5tYXhXaWR0aCApIHx8IGlzLm51bWJlciggb3B0aW9ucy5tYXhIZWlnaHQgKTtcbiAgdmFyIHB4UmF0aW8gPSByZW5kZXJlci5nZXRQaXhlbFJhdGlvKCk7XG4gIHZhciBzY2FsZSA9IDE7XG5cbiAgaWYoIG9wdGlvbnMuc2NhbGUgIT09IHVuZGVmaW5lZCApe1xuICAgIHdpZHRoICo9IG9wdGlvbnMuc2NhbGU7XG4gICAgaGVpZ2h0ICo9IG9wdGlvbnMuc2NhbGU7XG5cbiAgICBzY2FsZSA9IG9wdGlvbnMuc2NhbGU7XG4gIH0gZWxzZSBpZiggc3BlY2RNYXhEaW1zICl7XG4gICAgdmFyIG1heFNjYWxlVyA9IEluZmluaXR5O1xuICAgIHZhciBtYXhTY2FsZUggPSBJbmZpbml0eTtcblxuICAgIGlmKCBpcy5udW1iZXIoIG9wdGlvbnMubWF4V2lkdGggKSApe1xuICAgICAgbWF4U2NhbGVXID0gc2NhbGUgKiBvcHRpb25zLm1heFdpZHRoIC8gd2lkdGg7XG4gICAgfVxuXG4gICAgaWYoIGlzLm51bWJlciggb3B0aW9ucy5tYXhIZWlnaHQgKSApe1xuICAgICAgbWF4U2NhbGVIID0gc2NhbGUgKiBvcHRpb25zLm1heEhlaWdodCAvIGhlaWdodDtcbiAgICB9XG5cbiAgICBzY2FsZSA9IE1hdGgubWluKCBtYXhTY2FsZVcsIG1heFNjYWxlSCApO1xuXG4gICAgd2lkdGggKj0gc2NhbGU7XG4gICAgaGVpZ2h0ICo9IHNjYWxlO1xuICB9XG5cbiAgaWYoICFzcGVjZE1heERpbXMgKXtcbiAgICB3aWR0aCAqPSBweFJhdGlvO1xuICAgIGhlaWdodCAqPSBweFJhdGlvO1xuICAgIHNjYWxlICo9IHB4UmF0aW87XG4gIH1cblxuICB2YXIgYnVmZkN4dCA9IG51bGw7XG4gIHZhciBidWZmQ2FudmFzID0gYnVmZkN4dCA9IG5ldyBDMlMod2lkdGgsIGhlaWdodCk7XG5cbiAgLy8gUmFzdGVyaXplIHRoZSBsYXllcnMsIGJ1dCBvbmx5IGlmIGNvbnRhaW5lciBoYXMgbm9uemVybyBzaXplXG4gIGlmKCB3aWR0aCA+IDAgJiYgaGVpZ2h0ID4gMCApe1xuXG4gICAgYnVmZkN4dC5jbGVhclJlY3QoIDAsIDAsIHdpZHRoLCBoZWlnaHQgKTtcblxuICAgIC8vIGZpbGwgYmFja2dyb3VuZFxuICAgIGlmKCBvcHRpb25zLmJnICl7XG4gICAgICBidWZmQ3h0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdkZXN0aW5hdGlvbi1vdmVyJztcblxuICAgICAgYnVmZkN4dC5maWxsU3R5bGUgPSBvcHRpb25zLmJnO1xuICAgICAgYnVmZkN4dC5maWxsUmVjdCggMCwgMCwgd2lkdGgsIGhlaWdodCApO1xuICAgIH1cblxuICAgIGJ1ZmZDeHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ3NvdXJjZS1vdmVyJztcblxuICAgIHZhciB6c29ydGVkRWxlcyA9IHJlbmRlcmVyLmdldENhY2hlZFpTb3J0ZWRFbGVzKCk7XG5cbiAgICBpZiggb3B0aW9ucy5mdWxsICl7IC8vIGRyYXcgdGhlIGZ1bGwgYm91bmRzIG9mIHRoZSBncmFwaFxuICAgICAgYnVmZkN4dC50cmFuc2xhdGUoIC1iYi54MSAqIHNjYWxlLCAtYmIueTEgKiBzY2FsZSApO1xuICAgICAgYnVmZkN4dC5zY2FsZSggc2NhbGUsIHNjYWxlICk7XG5cbiAgICAgIHJlbmRlcmVyLmRyYXdFbGVtZW50cyggYnVmZkN4dCwgenNvcnRlZEVsZXMgKTtcblxuICAgICAgYnVmZkN4dC5zY2FsZSggMS9zY2FsZSwgMS9zY2FsZSApO1xuICAgICAgYnVmZkN4dC50cmFuc2xhdGUoIGJiLngxICogc2NhbGUsIGJiLnkxICogc2NhbGUgKTtcbiAgICB9IGVsc2UgeyAvLyBkcmF3IHRoZSBjdXJyZW50IHZpZXdcbiAgICAgIHZhciBwYW4gPSBjeS5wYW4oKTtcblxuICAgICAgdmFyIHRyYW5zbGF0aW9uID0ge1xuICAgICAgICB4OiBwYW4ueCAqIHNjYWxlLFxuICAgICAgICB5OiBwYW4ueSAqIHNjYWxlXG4gICAgICB9O1xuXG4gICAgICBzY2FsZSAqPSBjeS56b29tKCk7XG5cbiAgICAgIGJ1ZmZDeHQudHJhbnNsYXRlKCB0cmFuc2xhdGlvbi54LCB0cmFuc2xhdGlvbi55ICk7XG4gICAgICBidWZmQ3h0LnNjYWxlKCBzY2FsZSwgc2NhbGUgKTtcblxuICAgICAgcmVuZGVyZXIuZHJhd0VsZW1lbnRzKCBidWZmQ3h0LCB6c29ydGVkRWxlcyApO1xuXG4gICAgICBidWZmQ3h0LnNjYWxlKCAxL3NjYWxlLCAxL3NjYWxlICk7XG4gICAgICBidWZmQ3h0LnRyYW5zbGF0ZSggLXRyYW5zbGF0aW9uLngsIC10cmFuc2xhdGlvbi55ICk7XG4gICAgfVxuXG4gIH1cblxuICAvLyByZXN0b3JlIHVzZVBhdGhzIHRvIGRlZmF1bHQgdmFsdWVcbiAgY3kucmVuZGVyZXIoKS51c2VQYXRocyA9IHVzZVBhdGhzO1xuICByZXR1cm4gYnVmZkNhbnZhcztcbn07XG5cbmZ1bmN0aW9uIG91dHB1dChjYW52YXMpe1xuICAgIHJldHVybiBjYW52YXMuZ2V0U2VyaWFsaXplZFN2ZygpO1xufVxuXG5DUnAuc3ZnID0gZnVuY3Rpb24oIG9wdGlvbnMgKXtcbiAgcmV0dXJuIG91dHB1dChDUnAuYnVmZmVyQ2FudmFzSW1hZ2Uob3B0aW9ucyB8fCB7fSwgdGhpcyApKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQ1JwO1xuIiwiLyohIVxuICogIENhbnZhcyAyIFN2ZyB2MS4wLjE5XG4gKiAgQSBsb3cgbGV2ZWwgY2FudmFzIHRvIFNWRyBjb252ZXJ0ZXIuIFVzZXMgYSBtb2NrIGNhbnZhcyBjb250ZXh0IHRvIGJ1aWxkIGFuIFNWRyBkb2N1bWVudC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlOlxuICogIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gKlxuICogIEF1dGhvcjpcbiAqICBLZXJyeSBMaXVcbiAqXG4gKiAgQ29weXJpZ2h0IChjKSAyMDE0IEdsaWZmeSBJbmMuXG4gKi9cblxuOyhmdW5jdGlvbiAoKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICB2YXIgU1RZTEVTLCBjdHgsIENhbnZhc0dyYWRpZW50LCBDYW52YXNQYXR0ZXJuLCBuYW1lZEVudGl0aWVzO1xuXG4gICAgLy9oZWxwZXIgZnVuY3Rpb24gdG8gZm9ybWF0IGEgc3RyaW5nXG4gICAgZnVuY3Rpb24gZm9ybWF0KHN0ciwgYXJncykge1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGFyZ3MpLCBpO1xuICAgICAgICBmb3IgKGk9MDsgaTxrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBzdHIgPSBzdHIucmVwbGFjZShuZXcgUmVnRXhwKFwiXFxcXHtcIiArIGtleXNbaV0gKyBcIlxcXFx9XCIsIFwiZ2lcIiksIGFyZ3Nba2V5c1tpXV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuXG4gICAgLy9oZWxwZXIgZnVuY3Rpb24gdGhhdCBnZW5lcmF0ZXMgYSByYW5kb20gc3RyaW5nXG4gICAgZnVuY3Rpb24gcmFuZG9tU3RyaW5nKGhvbGRlcikge1xuICAgICAgICB2YXIgY2hhcnMsIHJhbmRvbXN0cmluZywgaTtcbiAgICAgICAgaWYgKCFob2xkZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImNhbm5vdCBjcmVhdGUgYSByYW5kb20gYXR0cmlidXRlIG5hbWUgZm9yIGFuIHVuZGVmaW5lZCBvYmplY3RcIik7XG4gICAgICAgIH1cbiAgICAgICAgY2hhcnMgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFRaYWJjZGVmZ2hpa2xtbm9wcXJzdHV2d3h5elwiO1xuICAgICAgICByYW5kb21zdHJpbmcgPSBcIlwiO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICByYW5kb21zdHJpbmcgPSBcIlwiO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgICAgICAgICByYW5kb21zdHJpbmcgKz0gY2hhcnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhcnMubGVuZ3RoKV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKGhvbGRlcltyYW5kb21zdHJpbmddKTtcbiAgICAgICAgcmV0dXJuIHJhbmRvbXN0cmluZztcbiAgICB9XG5cbiAgICAvL2hlbHBlciBmdW5jdGlvbiB0byBtYXAgbmFtZWQgdG8gbnVtYmVyZWQgZW50aXRpZXNcbiAgICBmdW5jdGlvbiBjcmVhdGVOYW1lZFRvTnVtYmVyZWRMb29rdXAoaXRlbXMsIHJhZGl4KSB7XG4gICAgICAgIHZhciBpLCBlbnRpdHksIGxvb2t1cCA9IHt9LCBiYXNlMTAsIGJhc2UxNjtcbiAgICAgICAgaXRlbXMgPSBpdGVtcy5zcGxpdCgnLCcpO1xuICAgICAgICByYWRpeCA9IHJhZGl4IHx8IDEwO1xuICAgICAgICAvLyBNYXAgZnJvbSBuYW1lZCB0byBudW1iZXJlZCBlbnRpdGllcy5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBlbnRpdHkgPSAnJicgKyBpdGVtc1tpICsgMV0gKyAnOyc7XG4gICAgICAgICAgICBiYXNlMTAgPSBwYXJzZUludChpdGVtc1tpXSwgcmFkaXgpO1xuICAgICAgICAgICAgbG9va3VwW2VudGl0eV0gPSAnJiMnK2Jhc2UxMCsnOyc7XG4gICAgICAgIH1cbiAgICAgICAgLy9GRiBhbmQgSUUgbmVlZCB0byBjcmVhdGUgYSByZWdleCBmcm9tIGhleCB2YWx1ZXMgaWUgJm5ic3A7ID09IFxceGEwXG4gICAgICAgIGxvb2t1cFtcIlxcXFx4YTBcIl0gPSAnJiMxNjA7JztcbiAgICAgICAgcmV0dXJuIGxvb2t1cDtcbiAgICB9XG5cbiAgICAvL2hlbHBlciBmdW5jdGlvbiB0byBtYXAgY2FudmFzLXRleHRBbGlnbiB0byBzdmctdGV4dEFuY2hvclxuICAgIGZ1bmN0aW9uIGdldFRleHRBbmNob3IodGV4dEFsaWduKSB7XG4gICAgICAgIC8vVE9ETzogc3VwcG9ydCBydGwgbGFuZ3VhZ2VzXG4gICAgICAgIHZhciBtYXBwaW5nID0ge1wibGVmdFwiOlwic3RhcnRcIiwgXCJyaWdodFwiOlwiZW5kXCIsIFwiY2VudGVyXCI6XCJtaWRkbGVcIiwgXCJzdGFydFwiOlwic3RhcnRcIiwgXCJlbmRcIjpcImVuZFwifTtcbiAgICAgICAgcmV0dXJuIG1hcHBpbmdbdGV4dEFsaWduXSB8fCBtYXBwaW5nLnN0YXJ0O1xuICAgIH1cblxuICAgIC8vaGVscGVyIGZ1bmN0aW9uIHRvIG1hcCBjYW52YXMtdGV4dEJhc2VsaW5lIHRvIHN2Zy1kb21pbmFudEJhc2VsaW5lXG4gICAgZnVuY3Rpb24gZ2V0RG9taW5hbnRCYXNlbGluZSh0ZXh0QmFzZWxpbmUpIHtcbiAgICAgICAgLy9JTkZPOiBub3Qgc3VwcG9ydGVkIGluIGFsbCBicm93c2Vyc1xuICAgICAgICB2YXIgbWFwcGluZyA9IHtcImFscGhhYmV0aWNcIjogXCJhbHBoYWJldGljXCIsIFwiaGFuZ2luZ1wiOiBcImhhbmdpbmdcIiwgXCJ0b3BcIjpcInRleHQtYmVmb3JlLWVkZ2VcIiwgXCJib3R0b21cIjpcInRleHQtYWZ0ZXItZWRnZVwiLCBcIm1pZGRsZVwiOlwiY2VudHJhbFwifTtcbiAgICAgICAgcmV0dXJuIG1hcHBpbmdbdGV4dEJhc2VsaW5lXSB8fCBtYXBwaW5nLmFscGhhYmV0aWM7XG4gICAgfVxuXG4gICAgLy8gVW5wYWNrIGVudGl0aWVzIGxvb2t1cCB3aGVyZSB0aGUgbnVtYmVycyBhcmUgaW4gcmFkaXggMzIgdG8gcmVkdWNlIHRoZSBzaXplXG4gICAgLy8gZW50aXR5IG1hcHBpbmcgY291cnRlc3kgb2YgdGlueW1jZVxuICAgIG5hbWVkRW50aXRpZXMgPSBjcmVhdGVOYW1lZFRvTnVtYmVyZWRMb29rdXAoXG4gICAgICAgICc1MCxuYnNwLDUxLGlleGNsLDUyLGNlbnQsNTMscG91bmQsNTQsY3VycmVuLDU1LHllbiw1NixicnZiYXIsNTcsc2VjdCw1OCx1bWwsNTksY29weSwnICtcbiAgICAgICAgICAgICc1YSxvcmRmLDViLGxhcXVvLDVjLG5vdCw1ZCxzaHksNWUscmVnLDVmLG1hY3IsNWcsZGVnLDVoLHBsdXNtbiw1aSxzdXAyLDVqLHN1cDMsNWssYWN1dGUsJyArXG4gICAgICAgICAgICAnNWwsbWljcm8sNW0scGFyYSw1bixtaWRkb3QsNW8sY2VkaWwsNXAsc3VwMSw1cSxvcmRtLDVyLHJhcXVvLDVzLGZyYWMxNCw1dCxmcmFjMTIsNXUsZnJhYzM0LCcgK1xuICAgICAgICAgICAgJzV2LGlxdWVzdCw2MCxBZ3JhdmUsNjEsQWFjdXRlLDYyLEFjaXJjLDYzLEF0aWxkZSw2NCxBdW1sLDY1LEFyaW5nLDY2LEFFbGlnLDY3LENjZWRpbCwnICtcbiAgICAgICAgICAgICc2OCxFZ3JhdmUsNjksRWFjdXRlLDZhLEVjaXJjLDZiLEV1bWwsNmMsSWdyYXZlLDZkLElhY3V0ZSw2ZSxJY2lyYyw2ZixJdW1sLDZnLEVUSCw2aCxOdGlsZGUsJyArXG4gICAgICAgICAgICAnNmksT2dyYXZlLDZqLE9hY3V0ZSw2ayxPY2lyYyw2bCxPdGlsZGUsNm0sT3VtbCw2bix0aW1lcyw2byxPc2xhc2gsNnAsVWdyYXZlLDZxLFVhY3V0ZSwnICtcbiAgICAgICAgICAgICc2cixVY2lyYyw2cyxVdW1sLDZ0LFlhY3V0ZSw2dSxUSE9STiw2dixzemxpZyw3MCxhZ3JhdmUsNzEsYWFjdXRlLDcyLGFjaXJjLDczLGF0aWxkZSw3NCxhdW1sLCcgK1xuICAgICAgICAgICAgJzc1LGFyaW5nLDc2LGFlbGlnLDc3LGNjZWRpbCw3OCxlZ3JhdmUsNzksZWFjdXRlLDdhLGVjaXJjLDdiLGV1bWwsN2MsaWdyYXZlLDdkLGlhY3V0ZSw3ZSxpY2lyYywnICtcbiAgICAgICAgICAgICc3ZixpdW1sLDdnLGV0aCw3aCxudGlsZGUsN2ksb2dyYXZlLDdqLG9hY3V0ZSw3ayxvY2lyYyw3bCxvdGlsZGUsN20sb3VtbCw3bixkaXZpZGUsN28sb3NsYXNoLCcgK1xuICAgICAgICAgICAgJzdwLHVncmF2ZSw3cSx1YWN1dGUsN3IsdWNpcmMsN3MsdXVtbCw3dCx5YWN1dGUsN3UsdGhvcm4sN3YseXVtbCxjaSxmbm9mLHNoLEFscGhhLHNpLEJldGEsJyArXG4gICAgICAgICAgICAnc2osR2FtbWEsc2ssRGVsdGEsc2wsRXBzaWxvbixzbSxaZXRhLHNuLEV0YSxzbyxUaGV0YSxzcCxJb3RhLHNxLEthcHBhLHNyLExhbWJkYSxzcyxNdSwnICtcbiAgICAgICAgICAgICdzdCxOdSxzdSxYaSxzdixPbWljcm9uLHQwLFBpLHQxLFJobyx0MyxTaWdtYSx0NCxUYXUsdDUsVXBzaWxvbix0NixQaGksdDcsQ2hpLHQ4LFBzaSwnICtcbiAgICAgICAgICAgICd0OSxPbWVnYSx0aCxhbHBoYSx0aSxiZXRhLHRqLGdhbW1hLHRrLGRlbHRhLHRsLGVwc2lsb24sdG0semV0YSx0bixldGEsdG8sdGhldGEsdHAsaW90YSwnICtcbiAgICAgICAgICAgICd0cSxrYXBwYSx0cixsYW1iZGEsdHMsbXUsdHQsbnUsdHUseGksdHYsb21pY3Jvbix1MCxwaSx1MSxyaG8sdTIsc2lnbWFmLHUzLHNpZ21hLHU0LHRhdSwnICtcbiAgICAgICAgICAgICd1NSx1cHNpbG9uLHU2LHBoaSx1NyxjaGksdTgscHNpLHU5LG9tZWdhLHVoLHRoZXRhc3ltLHVpLHVwc2loLHVtLHBpdiw4MTIsYnVsbCw4MTYsaGVsbGlwLCcgK1xuICAgICAgICAgICAgJzgxaSxwcmltZSw4MWosUHJpbWUsODF1LG9saW5lLDgyNCxmcmFzbCw4OG8sd2VpZXJwLDg4aCxpbWFnZSw4OHMscmVhbCw4OTIsdHJhZGUsODlsLGFsZWZzeW0sJyArXG4gICAgICAgICAgICAnOGNnLGxhcnIsOGNoLHVhcnIsOGNpLHJhcnIsOGNqLGRhcnIsOGNrLGhhcnIsOGRsLGNyYXJyLDhlZyxsQXJyLDhlaCx1QXJyLDhlaSxyQXJyLDhlaixkQXJyLCcgK1xuICAgICAgICAgICAgJzhlayxoQXJyLDhnMCxmb3JhbGwsOGcyLHBhcnQsOGczLGV4aXN0LDhnNSxlbXB0eSw4ZzcsbmFibGEsOGc4LGlzaW4sOGc5LG5vdGluLDhnYixuaSw4Z2YscHJvZCwnICtcbiAgICAgICAgICAgICc4Z2gsc3VtLDhnaSxtaW51cyw4Z24sbG93YXN0LDhncSxyYWRpYyw4Z3QscHJvcCw4Z3UsaW5maW4sOGgwLGFuZyw4aDcsYW5kLDhoOCxvciw4aDksY2FwLDhoYSxjdXAsJyArXG4gICAgICAgICAgICAnOGhiLGludCw4aGssdGhlcmU0LDhocyxzaW0sOGk1LGNvbmcsOGk4LGFzeW1wLDhqMCxuZSw4ajEsZXF1aXYsOGo0LGxlLDhqNSxnZSw4azIsc3ViLDhrMyxzdXAsOGs0LCcgK1xuICAgICAgICAgICAgJ25zdWIsOGs2LHN1YmUsOGs3LHN1cGUsOGtsLG9wbHVzLDhrbixvdGltZXMsOGw1LHBlcnAsOG01LHNkb3QsOG84LGxjZWlsLDhvOSxyY2VpbCw4b2EsbGZsb29yLDhvYiwnICtcbiAgICAgICAgICAgICdyZmxvb3IsOHA5LGxhbmcsOHBhLHJhbmcsOWVhLGxveiw5ajAsc3BhZGVzLDlqMyxjbHVicyw5ajUsaGVhcnRzLDlqNixkaWFtcyxhaSxPRWxpZyxhaixvZWxpZyxiMCwnICtcbiAgICAgICAgICAgICdTY2Fyb24sYjEsc2Nhcm9uLGJvLFl1bWwsbTYsY2lyYyxtcyx0aWxkZSw4MDIsZW5zcCw4MDMsZW1zcCw4MDksdGhpbnNwLDgwYyx6d25qLDgwZCx6d2osODBlLGxybSwnICtcbiAgICAgICAgICAgICc4MGYscmxtLDgwaixuZGFzaCw4MGssbWRhc2gsODBvLGxzcXVvLDgwcCxyc3F1byw4MHEsc2JxdW8sODBzLGxkcXVvLDgwdCxyZHF1byw4MHUsYmRxdW8sODEwLGRhZ2dlciwnICtcbiAgICAgICAgICAgICc4MTEsRGFnZ2VyLDgxZyxwZXJtaWwsODFwLGxzYXF1byw4MXEscnNhcXVvLDg1YyxldXJvJywgMzIpO1xuXG5cbiAgICAvL1NvbWUgYmFzaWMgbWFwcGluZ3MgZm9yIGF0dHJpYnV0ZXMgYW5kIGRlZmF1bHQgdmFsdWVzLlxuICAgIFNUWUxFUyA9IHtcbiAgICAgICAgXCJzdHJva2VTdHlsZVwiOntcbiAgICAgICAgICAgIHN2Z0F0dHIgOiBcInN0cm9rZVwiLCAvL2NvcnJlc3BvbmRpbmcgc3ZnIGF0dHJpYnV0ZVxuICAgICAgICAgICAgY2FudmFzIDogXCIjMDAwMDAwXCIsIC8vY2FudmFzIGRlZmF1bHRcbiAgICAgICAgICAgIHN2ZyA6IFwibm9uZVwiLCAgICAgICAvL3N2ZyBkZWZhdWx0XG4gICAgICAgICAgICBhcHBseSA6IFwic3Ryb2tlXCIgICAgLy9hcHBseSBvbiBzdHJva2UoKSBvciBmaWxsKClcbiAgICAgICAgfSxcbiAgICAgICAgXCJmaWxsU3R5bGVcIjp7XG4gICAgICAgICAgICBzdmdBdHRyIDogXCJmaWxsXCIsXG4gICAgICAgICAgICBjYW52YXMgOiBcIiMwMDAwMDBcIixcbiAgICAgICAgICAgIHN2ZyA6IG51bGwsIC8vc3ZnIGRlZmF1bHQgaXMgYmxhY2ssIGJ1dCB3ZSBuZWVkIHRvIHNwZWNpYWwgY2FzZSB0aGlzIHRvIGhhbmRsZSBjYW52YXMgc3Ryb2tlIHdpdGhvdXQgZmlsbFxuICAgICAgICAgICAgYXBwbHkgOiBcImZpbGxcIlxuICAgICAgICB9LFxuICAgICAgICBcImxpbmVDYXBcIjp7XG4gICAgICAgICAgICBzdmdBdHRyIDogXCJzdHJva2UtbGluZWNhcFwiLFxuICAgICAgICAgICAgY2FudmFzIDogXCJidXR0XCIsXG4gICAgICAgICAgICBzdmcgOiBcImJ1dHRcIixcbiAgICAgICAgICAgIGFwcGx5IDogXCJzdHJva2VcIlxuICAgICAgICB9LFxuICAgICAgICBcImxpbmVKb2luXCI6e1xuICAgICAgICAgICAgc3ZnQXR0ciA6IFwic3Ryb2tlLWxpbmVqb2luXCIsXG4gICAgICAgICAgICBjYW52YXMgOiBcIm1pdGVyXCIsXG4gICAgICAgICAgICBzdmcgOiBcIm1pdGVyXCIsXG4gICAgICAgICAgICBhcHBseSA6IFwic3Ryb2tlXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJtaXRlckxpbWl0XCI6e1xuICAgICAgICAgICAgc3ZnQXR0ciA6IFwic3Ryb2tlLW1pdGVybGltaXRcIixcbiAgICAgICAgICAgIGNhbnZhcyA6IDEwLFxuICAgICAgICAgICAgc3ZnIDogNCxcbiAgICAgICAgICAgIGFwcGx5IDogXCJzdHJva2VcIlxuICAgICAgICB9LFxuICAgICAgICBcImxpbmVXaWR0aFwiOntcbiAgICAgICAgICAgIHN2Z0F0dHIgOiBcInN0cm9rZS13aWR0aFwiLFxuICAgICAgICAgICAgY2FudmFzIDogMSxcbiAgICAgICAgICAgIHN2ZyA6IDEsXG4gICAgICAgICAgICBhcHBseSA6IFwic3Ryb2tlXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJnbG9iYWxBbHBoYVwiOiB7XG4gICAgICAgICAgICBzdmdBdHRyIDogXCJvcGFjaXR5XCIsXG4gICAgICAgICAgICBjYW52YXMgOiAxLFxuICAgICAgICAgICAgc3ZnIDogMSxcbiAgICAgICAgICAgIGFwcGx5IDogIFwiZmlsbCBzdHJva2VcIlxuICAgICAgICB9LFxuICAgICAgICBcImZvbnRcIjp7XG4gICAgICAgICAgICAvL2ZvbnQgY29udmVydHMgdG8gbXVsdGlwbGUgc3ZnIGF0dHJpYnV0ZXMsIHRoZXJlIGlzIGN1c3RvbSBsb2dpYyBmb3IgdGhpc1xuICAgICAgICAgICAgY2FudmFzIDogXCIxMHB4IHNhbnMtc2VyaWZcIlxuICAgICAgICB9LFxuICAgICAgICBcInNoYWRvd0NvbG9yXCI6e1xuICAgICAgICAgICAgY2FudmFzIDogXCIjMDAwMDAwXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJzaGFkb3dPZmZzZXRYXCI6e1xuICAgICAgICAgICAgY2FudmFzIDogMFxuICAgICAgICB9LFxuICAgICAgICBcInNoYWRvd09mZnNldFlcIjp7XG4gICAgICAgICAgICBjYW52YXMgOiAwXG4gICAgICAgIH0sXG4gICAgICAgIFwic2hhZG93Qmx1clwiOntcbiAgICAgICAgICAgIGNhbnZhcyA6IDBcbiAgICAgICAgfSxcbiAgICAgICAgXCJ0ZXh0QWxpZ25cIjp7XG4gICAgICAgICAgICBjYW52YXMgOiBcInN0YXJ0XCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJ0ZXh0QmFzZWxpbmVcIjp7XG4gICAgICAgICAgICBjYW52YXMgOiBcImFscGhhYmV0aWNcIlxuICAgICAgICB9LFxuICAgICAgICBcImxpbmVEYXNoXCIgOiB7XG4gICAgICAgICAgICBzdmdBdHRyIDogXCJzdHJva2UtZGFzaGFycmF5XCIsXG4gICAgICAgICAgICBjYW52YXMgOiBbXSxcbiAgICAgICAgICAgIHN2ZyA6IG51bGwsXG4gICAgICAgICAgICBhcHBseSA6IFwic3Ryb2tlXCJcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBncmFkaWVudE5vZGUgLSByZWZlcmVuY2UgdG8gdGhlIGdyYWRpZW50XG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgQ2FudmFzR3JhZGllbnQgPSBmdW5jdGlvbiAoZ3JhZGllbnROb2RlLCBjdHgpIHtcbiAgICAgICAgdGhpcy5fX3Jvb3QgPSBncmFkaWVudE5vZGU7XG4gICAgICAgIHRoaXMuX19jdHggPSBjdHg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBjb2xvciBzdG9wIHRvIHRoZSBncmFkaWVudCByb290XG4gICAgICovXG4gICAgQ2FudmFzR3JhZGllbnQucHJvdG90eXBlLmFkZENvbG9yU3RvcCA9IGZ1bmN0aW9uIChvZmZzZXQsIGNvbG9yKSB7XG4gICAgICAgIHZhciBzdG9wID0gdGhpcy5fX2N0eC5fX2NyZWF0ZUVsZW1lbnQoXCJzdG9wXCIpLCByZWdleCwgbWF0Y2hlcztcbiAgICAgICAgc3RvcC5zZXRBdHRyaWJ1dGUoXCJvZmZzZXRcIiwgb2Zmc2V0KTtcbiAgICAgICAgaWYgKGNvbG9yLmluZGV4T2YoXCJyZ2JhXCIpICE9PSAtMSkge1xuICAgICAgICAgICAgLy9zZXBhcmF0ZSBhbHBoYSB2YWx1ZSwgc2luY2Ugd2Via2l0IGNhbid0IGhhbmRsZSBpdFxuICAgICAgICAgICAgcmVnZXggPSAvcmdiYVxcKFxccyooXFxkKylcXHMqLFxccyooXFxkKylcXHMqLFxccyooXFxkKylcXHMqLFxccyooXFxkP1xcLj9cXGQqKVxccypcXCkvZ2k7XG4gICAgICAgICAgICBtYXRjaGVzID0gcmVnZXguZXhlYyhjb2xvcik7XG4gICAgICAgICAgICBzdG9wLnNldEF0dHJpYnV0ZShcInN0b3AtY29sb3JcIiwgZm9ybWF0KFwicmdiKHtyfSx7Z30se2J9KVwiLCB7cjptYXRjaGVzWzFdLCBnOm1hdGNoZXNbMl0sIGI6bWF0Y2hlc1szXX0pKTtcbiAgICAgICAgICAgIHN0b3Auc2V0QXR0cmlidXRlKFwic3RvcC1vcGFjaXR5XCIsIG1hdGNoZXNbNF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RvcC5zZXRBdHRyaWJ1dGUoXCJzdG9wLWNvbG9yXCIsIGNvbG9yKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9fcm9vdC5hcHBlbmRDaGlsZChzdG9wKTtcbiAgICB9O1xuXG4gICAgQ2FudmFzUGF0dGVybiA9IGZ1bmN0aW9uIChwYXR0ZXJuLCBjdHgpIHtcbiAgICAgICAgdGhpcy5fX3Jvb3QgPSBwYXR0ZXJuO1xuICAgICAgICB0aGlzLl9fY3R4ID0gY3R4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbW9jayBjYW52YXMgY29udGV4dFxuICAgICAqIEBwYXJhbSBvIC0gb3B0aW9ucyBpbmNsdWRlOlxuICAgICAqIGN0eCAtIGV4aXN0aW5nIENvbnRleHQyRCB0byB3cmFwIGFyb3VuZFxuICAgICAqIHdpZHRoIC0gd2lkdGggb2YgeW91ciBjYW52YXMgKGRlZmF1bHRzIHRvIDUwMClcbiAgICAgKiBoZWlnaHQgLSBoZWlnaHQgb2YgeW91ciBjYW52YXMgKGRlZmF1bHRzIHRvIDUwMClcbiAgICAgKiBlbmFibGVNaXJyb3JpbmcgLSBlbmFibGVzIGNhbnZhcyBtaXJyb3JpbmcgKGdldCBpbWFnZSBkYXRhKSAoZGVmYXVsdHMgdG8gZmFsc2UpXG4gICAgICogZG9jdW1lbnQgLSB0aGUgZG9jdW1lbnQgb2JqZWN0IChkZWZhdWx0cyB0byB0aGUgY3VycmVudCBkb2N1bWVudClcbiAgICAgKi9cbiAgICBjdHggPSBmdW5jdGlvbiAobykge1xuICAgICAgICB2YXIgZGVmYXVsdE9wdGlvbnMgPSB7IHdpZHRoOjUwMCwgaGVpZ2h0OjUwMCwgZW5hYmxlTWlycm9yaW5nIDogZmFsc2V9LCBvcHRpb25zO1xuXG4gICAgICAgIC8va2VlcCBzdXBwb3J0IGZvciB0aGlzIHdheSBvZiBjYWxsaW5nIEMyUzogbmV3IEMyUyh3aWR0aCxoZWlnaHQpXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IGRlZmF1bHRPcHRpb25zO1xuICAgICAgICAgICAgb3B0aW9ucy53aWR0aCA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgIG9wdGlvbnMuaGVpZ2h0ID0gYXJndW1lbnRzWzFdO1xuICAgICAgICB9IGVsc2UgaWYgKCAhbyApIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBkZWZhdWx0T3B0aW9ucztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGN0eCkpIHtcbiAgICAgICAgICAgIC8vZGlkIHNvbWVvbmUgY2FsbCB0aGlzIHdpdGhvdXQgbmV3P1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBjdHgob3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICAvL3NldHVwIG9wdGlvbnNcbiAgICAgICAgdGhpcy53aWR0aCA9IG9wdGlvbnMud2lkdGggfHwgZGVmYXVsdE9wdGlvbnMud2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQgfHwgZGVmYXVsdE9wdGlvbnMuaGVpZ2h0O1xuICAgICAgICB0aGlzLmVuYWJsZU1pcnJvcmluZyA9IG9wdGlvbnMuZW5hYmxlTWlycm9yaW5nICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmVuYWJsZU1pcnJvcmluZyA6IGRlZmF1bHRPcHRpb25zLmVuYWJsZU1pcnJvcmluZztcblxuICAgICAgICB0aGlzLmNhbnZhcyA9IHRoaXM7ICAgLy8vcG9pbnQgYmFjayB0byB0aGlzIGluc3RhbmNlIVxuICAgICAgICB0aGlzLl9fZG9jdW1lbnQgPSBvcHRpb25zLmRvY3VtZW50IHx8IGRvY3VtZW50O1xuXG4gICAgICAgIC8vIGFsbG93IHBhc3NpbmcgaW4gYW4gZXhpc3RpbmcgY29udGV4dCB0byB3cmFwIGFyb3VuZFxuICAgICAgICAvLyBpZiBhIGNvbnRleHQgaXMgcGFzc2VkIGluLCB3ZSBrbm93IGEgY2FudmFzIGFscmVhZHkgZXhpc3RcbiAgICAgICAgaWYgKG9wdGlvbnMuY3R4KSB7XG4gICAgICAgICAgICB0aGlzLl9fY3R4ID0gb3B0aW9ucy5jdHg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9fY2FudmFzID0gdGhpcy5fX2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgICAgICAgICB0aGlzLl9fY3R4ID0gdGhpcy5fX2NhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9fc2V0RGVmYXVsdFN0eWxlcygpO1xuICAgICAgICB0aGlzLl9fc3RhY2sgPSBbdGhpcy5fX2dldFN0eWxlU3RhdGUoKV07XG4gICAgICAgIHRoaXMuX19ncm91cFN0YWNrID0gW107XG5cbiAgICAgICAgLy90aGUgcm9vdCBzdmcgZWxlbWVudFxuICAgICAgICB0aGlzLl9fcm9vdCA9IHRoaXMuX19kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKTtcbiAgICAgICAgdGhpcy5fX3Jvb3Quc2V0QXR0cmlidXRlKFwidmVyc2lvblwiLCAxLjEpO1xuICAgICAgICB0aGlzLl9fcm9vdC5zZXRBdHRyaWJ1dGUoXCJ4bWxuc1wiLCBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIpO1xuICAgICAgICB0aGlzLl9fcm9vdC5zZXRBdHRyaWJ1dGVOUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvXCIsIFwieG1sbnM6eGxpbmtcIiwgXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIpO1xuICAgICAgICB0aGlzLl9fcm9vdC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCB0aGlzLndpZHRoKTtcbiAgICAgICAgdGhpcy5fX3Jvb3Quc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsIHRoaXMuaGVpZ2h0KTtcblxuICAgICAgICAvL21ha2Ugc3VyZSB3ZSBkb24ndCBnZW5lcmF0ZSB0aGUgc2FtZSBpZHMgaW4gZGVmc1xuICAgICAgICB0aGlzLl9faWRzID0ge307XG5cbiAgICAgICAgLy9kZWZzIHRhZ1xuICAgICAgICB0aGlzLl9fZGVmcyA9IHRoaXMuX19kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcImRlZnNcIik7XG4gICAgICAgIHRoaXMuX19yb290LmFwcGVuZENoaWxkKHRoaXMuX19kZWZzKTtcblxuICAgICAgICAvL2Fsc28gYWRkIGEgZ3JvdXAgY2hpbGQuIHRoZSBzdmcgZWxlbWVudCBjYW4ndCB1c2UgdGhlIHRyYW5zZm9ybSBhdHRyaWJ1dGVcbiAgICAgICAgdGhpcy5fX2N1cnJlbnRFbGVtZW50ID0gdGhpcy5fX2RvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwiZ1wiKTtcbiAgICAgICAgdGhpcy5fX3Jvb3QuYXBwZW5kQ2hpbGQodGhpcy5fX2N1cnJlbnRFbGVtZW50KTtcbiAgICB9O1xuXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSBzcGVjaWZpZWQgc3ZnIGVsZW1lbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGN0eC5wcm90b3R5cGUuX19jcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24gKGVsZW1lbnROYW1lLCBwcm9wZXJ0aWVzLCByZXNldEZpbGwpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9wZXJ0aWVzID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBwcm9wZXJ0aWVzID0ge307XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXMuX19kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBlbGVtZW50TmFtZSksXG4gICAgICAgICAgICBrZXlzID0gT2JqZWN0LmtleXMocHJvcGVydGllcyksIGksIGtleTtcbiAgICAgICAgaWYgKHJlc2V0RmlsbCkge1xuICAgICAgICAgICAgLy9pZiBmaWxsIG9yIHN0cm9rZSBpcyBub3Qgc3BlY2lmaWVkLCB0aGUgc3ZnIGVsZW1lbnQgc2hvdWxkIG5vdCBkaXNwbGF5LiBCeSBkZWZhdWx0IFNWRydzIGZpbGwgaXMgYmxhY2suXG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImZpbGxcIiwgXCJub25lXCIpO1xuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJzdHJva2VcIiwgXCJub25lXCIpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaT0wOyBpPGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIHByb3BlcnRpZXNba2V5XSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgZGVmYXVsdCBjYW52YXMgc3R5bGVzIHRvIHRoZSBjb250ZXh0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjdHgucHJvdG90eXBlLl9fc2V0RGVmYXVsdFN0eWxlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy9kZWZhdWx0IDJkIGNhbnZhcyBjb250ZXh0IHByb3BlcnRpZXMgc2VlOmh0dHA6Ly93d3cudzMub3JnL1RSLzJkY29udGV4dC9cbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhTVFlMRVMpLCBpLCBrZXk7XG4gICAgICAgIGZvciAoaT0wOyBpPGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICB0aGlzW2tleV0gPSBTVFlMRVNba2V5XS5jYW52YXM7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBzdHlsZXMgb24gcmVzdG9yZVxuICAgICAqIEBwYXJhbSBzdHlsZVN0YXRlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjdHgucHJvdG90eXBlLl9fYXBwbHlTdHlsZVN0YXRlID0gZnVuY3Rpb24gKHN0eWxlU3RhdGUpIHtcbiAgICAgICAgaWYoIXN0eWxlU3RhdGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoc3R5bGVTdGF0ZSksIGksIGtleTtcbiAgICAgICAgZm9yIChpPTA7IGk8a2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgIHRoaXNba2V5XSA9IHN0eWxlU3RhdGVba2V5XTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBjdXJyZW50IHN0eWxlIHN0YXRlXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY3R4LnByb3RvdHlwZS5fX2dldFN0eWxlU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpLCBzdHlsZVN0YXRlID0ge30sIGtleXMgPSBPYmplY3Qua2V5cyhTVFlMRVMpLCBrZXk7XG4gICAgICAgIGZvciAoaT0wOyBpPGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICBzdHlsZVN0YXRlW2tleV0gPSB0aGlzW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0eWxlU3RhdGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxlcyB0aGUgY3VycmVudCBzdHlsZXMgdG8gdGhlIGN1cnJlbnQgU1ZHIGVsZW1lbnQuIE9uIFwiY3R4LmZpbGxcIiBvciBcImN0eC5zdHJva2VcIlxuICAgICAqIEBwYXJhbSB0eXBlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjdHgucHJvdG90eXBlLl9fYXBwbHlTdHlsZVRvQ3VycmVudEVsZW1lbnQgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgIFx0dmFyIGN1cnJlbnRFbGVtZW50ID0gdGhpcy5fX2N1cnJlbnRFbGVtZW50O1xuICAgIFx0dmFyIGN1cnJlbnRTdHlsZUdyb3VwID0gdGhpcy5fX2N1cnJlbnRFbGVtZW50c1RvU3R5bGU7XG4gICAgXHRpZiAoZmFsc2UgJiYgY3VycmVudFN0eWxlR3JvdXApIHtcbiAgICBcdFx0Y3VycmVudEVsZW1lbnQuc2V0QXR0cmlidXRlKHR5cGUsIFwiXCIpO1xuICAgIFx0XHRjdXJyZW50RWxlbWVudCA9IGN1cnJlbnRTdHlsZUdyb3VwLmVsZW1lbnQ7XG4gICAgXHRcdGN1cnJlbnRTdHlsZUdyb3VwLmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICBcdFx0XHRub2RlLnNldEF0dHJpYnV0ZSh0eXBlLCBcIlwiKTtcbiAgICBcdFx0fSlcbiAgICBcdH1cblxuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKFNUWUxFUyksIGksIHN0eWxlLCB2YWx1ZSwgaWQsIHJlZ2V4LCBtYXRjaGVzO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgc3R5bGUgPSBTVFlMRVNba2V5c1tpXV07XG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXNba2V5c1tpXV07XG4gICAgICAgICAgICBpZiAoc3R5bGUuYXBwbHkpIHtcbiAgICAgICAgICAgICAgICAvL2lzIHRoaXMgYSBncmFkaWVudCBvciBwYXR0ZXJuP1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIENhbnZhc1BhdHRlcm4pIHtcbiAgICAgICAgICAgICAgICAgICAgLy9wYXR0ZXJuXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5fX2N0eCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb3B5IG92ZXIgZGVmc1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUodmFsdWUuX19jdHguX19kZWZzLmNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQgPSB2YWx1ZS5fX2N0eC5fX2RlZnMuY2hpbGROb2Rlc1swXS5nZXRBdHRyaWJ1dGUoXCJpZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9faWRzW2lkXSA9IGlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX19kZWZzLmFwcGVuZENoaWxkKHZhbHVlLl9fY3R4Ll9fZGVmcy5jaGlsZE5vZGVzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoc3R5bGUuYXBwbHksIGZvcm1hdChcInVybCgje2lkfSlcIiwge2lkOnZhbHVlLl9fcm9vdC5nZXRBdHRyaWJ1dGUoXCJpZFwiKX0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBDYW52YXNHcmFkaWVudCkge1xuICAgICAgICAgICAgICAgICAgICAvL2dyYWRpZW50XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRFbGVtZW50LnNldEF0dHJpYnV0ZShzdHlsZS5hcHBseSwgZm9ybWF0KFwidXJsKCN7aWR9KVwiLCB7aWQ6dmFsdWUuX19yb290LmdldEF0dHJpYnV0ZShcImlkXCIpfSkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3R5bGUuYXBwbHkuaW5kZXhPZih0eXBlKSE9PS0xICYmIHN0eWxlLnN2ZyAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChzdHlsZS5zdmdBdHRyID09PSBcInN0cm9rZVwiIHx8IHN0eWxlLnN2Z0F0dHIgPT09IFwiZmlsbFwiKSAmJiB2YWx1ZS5pbmRleE9mKFwicmdiYVwiKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc2VwYXJhdGUgYWxwaGEgdmFsdWUsIHNpbmNlIGlsbHVzdHJhdG9yIGNhbid0IGhhbmRsZSBpdFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVnZXggPSAvcmdiYVxcKFxccyooXFxkKylcXHMqLFxccyooXFxkKylcXHMqLFxccyooXFxkKylcXHMqLFxccyooXFxkP1xcLj9cXGQqKVxccypcXCkvZ2k7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVzID0gcmVnZXguZXhlYyh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoc3R5bGUuc3ZnQXR0ciwgZm9ybWF0KFwicmdiKHtyfSx7Z30se2J9KVwiLCB7cjptYXRjaGVzWzFdLCBnOm1hdGNoZXNbMl0sIGI6bWF0Y2hlc1szXX0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc2hvdWxkIHRha2UgZ2xvYmFsQWxwaGEgaGVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wYWNpdHkgPSBtYXRjaGVzWzRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdsb2JhbEFscGhhID0gdGhpcy5nbG9iYWxBbHBoYTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnbG9iYWxBbHBoYSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eSAqPSBnbG9iYWxBbHBoYTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRFbGVtZW50LnNldEF0dHJpYnV0ZShzdHlsZS5zdmdBdHRyK1wiLW9wYWNpdHlcIiwgb3BhY2l0eSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXR0ciA9IHN0eWxlLnN2Z0F0dHI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5c1tpXSA9PT0gJ2dsb2JhbEFscGhhJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHIgPSB0eXBlKyctJytzdHlsZS5zdmdBdHRyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZmlsbC1vcGFjaXR5IG9yIHN0cm9rZS1vcGFjaXR5IGhhcyBhbHJlYWR5IGJlZW4gc2V0IGJ5IHN0cm9rZSBvciBmaWxsLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvL290aGVyd2lzZSBvbmx5IHVwZGF0ZSBhdHRyaWJ1dGUgaWYgcmlnaHQgdHlwZSwgYW5kIG5vdCBzdmcgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHIsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiB0aGUgY2xvc2VzdCBncm91cCBvciBzdmcgbm9kZS4gTWF5IHJldHVybiB0aGUgY3VycmVudCBlbGVtZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY3R4LnByb3RvdHlwZS5fX2Nsb3Nlc3RHcm91cE9yU3ZnID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgbm9kZSA9IG5vZGUgfHwgdGhpcy5fX2N1cnJlbnRFbGVtZW50O1xuICAgICAgICBpZiAobm9kZS5ub2RlTmFtZSA9PT0gXCJnXCIgfHwgbm9kZS5ub2RlTmFtZSA9PT0gXCJzdmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fX2Nsb3Nlc3RHcm91cE9yU3ZnKG5vZGUucGFyZW50Tm9kZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc2VyaWFsaXplZCB2YWx1ZSBvZiB0aGUgc3ZnIHNvIGZhclxuICAgICAqIEBwYXJhbSBmaXhOYW1lZEVudGl0aWVzIC0gU3RhbmRhbG9uZSBTVkcgZG9lc24ndCBzdXBwb3J0IG5hbWVkIGVudGl0aWVzLCB3aGljaCBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSBlbmNvZGVzLlxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgdHJ1ZSwgd2UgYXR0ZW1wdCB0byBmaW5kIGFsbCBuYW1lZCBlbnRpdGllcyBhbmQgZW5jb2RlIGl0IGFzIGEgbnVtZXJpYyBlbnRpdHkuXG4gICAgICogQHJldHVybiBzZXJpYWxpemVkIHN2Z1xuICAgICAqL1xuICAgIGN0eC5wcm90b3R5cGUuZ2V0U2VyaWFsaXplZFN2ZyA9IGZ1bmN0aW9uIChmaXhOYW1lZEVudGl0aWVzKSB7XG4gICAgICAgIHZhciBzZXJpYWxpemVkID0gbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh0aGlzLl9fcm9vdCksXG4gICAgICAgICAgICBrZXlzLCBpLCBrZXksIHZhbHVlLCByZWdleHAsIHhtbG5zO1xuXG4gICAgICAgIC8vSUUgc2VhcmNoIGZvciBhIGR1cGxpY2F0ZSB4bW5scyBiZWNhdXNlIHRoZXkgZGlkbid0IGltcGxlbWVudCBzZXRBdHRyaWJ1dGVOUyBjb3JyZWN0bHlcbiAgICAgICAgeG1sbnMgPSAveG1sbnM9XCJodHRwOlxcL1xcL3d3d1xcLnczXFwub3JnXFwvMjAwMFxcL3N2Z1wiLit4bWxucz1cImh0dHA6XFwvXFwvd3d3XFwudzNcXC5vcmdcXC8yMDAwXFwvc3ZnL2dpO1xuICAgICAgICBpZiAoeG1sbnMudGVzdChzZXJpYWxpemVkKSkge1xuICAgICAgICAgICAgc2VyaWFsaXplZCA9IHNlcmlhbGl6ZWQucmVwbGFjZSgneG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsJ3htbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpeE5hbWVkRW50aXRpZXMpIHtcbiAgICAgICAgICAgIGtleXMgPSBPYmplY3Qua2V5cyhuYW1lZEVudGl0aWVzKTtcbiAgICAgICAgICAgIC8vbG9vcCBvdmVyIGVhY2ggbmFtZWQgZW50aXR5IGFuZCByZXBsYWNlIHdpdGggdGhlIHByb3BlciBlcXVpdmFsZW50LlxuICAgICAgICAgICAgZm9yIChpPTA7IGk8a2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBuYW1lZEVudGl0aWVzW2tleV07XG4gICAgICAgICAgICAgICAgcmVnZXhwID0gbmV3IFJlZ0V4cChrZXksIFwiZ2lcIik7XG4gICAgICAgICAgICAgICAgaWYgKHJlZ2V4cC50ZXN0KHNlcmlhbGl6ZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlcmlhbGl6ZWQgPSBzZXJpYWxpemVkLnJlcGxhY2UocmVnZXhwLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZWQ7XG4gICAgfTtcblxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcm9vdCBzdmdcbiAgICAgKiBAcmV0dXJuXG4gICAgICovXG4gICAgY3R4LnByb3RvdHlwZS5nZXRTdmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9fcm9vdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFdpbGwgZ2VuZXJhdGUgYSBncm91cCB0YWcuXG4gICAgICovXG4gICAgY3R4LnByb3RvdHlwZS5zYXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ3JvdXAgPSB0aGlzLl9fY3JlYXRlRWxlbWVudChcImdcIik7XG4gICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLl9fY2xvc2VzdEdyb3VwT3JTdmcoKTtcbiAgICAgICAgdGhpcy5fX2dyb3VwU3RhY2sucHVzaChwYXJlbnQpO1xuICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZ3JvdXApO1xuICAgICAgICB0aGlzLl9fY3VycmVudEVsZW1lbnQgPSBncm91cDtcbiAgICAgICAgdGhpcy5fX3N0YWNrLnB1c2godGhpcy5fX2dldFN0eWxlU3RhdGUoKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIGN1cnJlbnQgZWxlbWVudCB0byBwYXJlbnQsIG9yIGp1c3Qgcm9vdCBpZiBhbHJlYWR5IHJvb3RcbiAgICAgKi9cbiAgICBjdHgucHJvdG90eXBlLnJlc3RvcmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX19jdXJyZW50RWxlbWVudCA9IHRoaXMuX19ncm91cFN0YWNrLnBvcCgpO1xuICAgICAgICB0aGlzLl9fY3VycmVudEVsZW1lbnRzVG9TdHlsZSA9IG51bGw7XG4gICAgICAgIC8vQ2xlYXJpbmcgY2FudmFzIHdpbGwgbWFrZSB0aGUgcG9wZWQgZ3JvdXAgaW52YWxpZCwgY3VycmVudEVsZW1lbnQgaXMgc2V0IHRvIHRoZSByb290IGdyb3VwIG5vZGUuXG4gICAgICAgIGlmICghdGhpcy5fX2N1cnJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9fY3VycmVudEVsZW1lbnQgPSB0aGlzLl9fcm9vdC5jaGlsZE5vZGVzWzFdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuX19zdGFjay5wb3AoKTtcbiAgICAgICAgdGhpcy5fX2FwcGx5U3R5bGVTdGF0ZShzdGF0ZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBtZXRob2QgdG8gYWRkIHRyYW5zZm9ybVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY3R4LnByb3RvdHlwZS5fX2FkZFRyYW5zZm9ybSA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIC8vaWYgdGhlIGN1cnJlbnQgZWxlbWVudCBoYXMgc2libGluZ3MsIGFkZCBhbm90aGVyIGdyb3VwXG4gICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLl9fY2xvc2VzdEdyb3VwT3JTdmcoKTtcbiAgICAgICAgaWYgKHBhcmVudC5jaGlsZE5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgXHRpZiAodGhpcy5fX2N1cnJlbnRFbGVtZW50Lm5vZGVOYW1lID09PSBcInBhdGhcIikge1xuICAgICAgICBcdFx0aWYgKCF0aGlzLl9fY3VycmVudEVsZW1lbnRzVG9TdHlsZSkgdGhpcy5fX2N1cnJlbnRFbGVtZW50c1RvU3R5bGUgPSB7ZWxlbWVudDogcGFyZW50LCBjaGlsZHJlbjogW119O1xuICAgICAgICBcdFx0dGhpcy5fX2N1cnJlbnRFbGVtZW50c1RvU3R5bGUuY2hpbGRyZW4ucHVzaCh0aGlzLl9fY3VycmVudEVsZW1lbnQpXG4gICAgICAgIFx0XHR0aGlzLl9fYXBwbHlDdXJyZW50RGVmYXVsdFBhdGgoKTtcbiAgICAgICAgXHR9XG5cbiAgICAgICAgICAgIHZhciBncm91cCA9IHRoaXMuX19jcmVhdGVFbGVtZW50KFwiZ1wiKTtcbiAgICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChncm91cCk7XG4gICAgICAgICAgICB0aGlzLl9fY3VycmVudEVsZW1lbnQgPSBncm91cDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0cmFuc2Zvcm0gPSB0aGlzLl9fY3VycmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIpO1xuICAgICAgICBpZiAodHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm0gKz0gXCIgXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm0gPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIHRyYW5zZm9ybSArPSB0O1xuICAgICAgICB0aGlzLl9fY3VycmVudEVsZW1lbnQuc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsIHRyYW5zZm9ybSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqICBzY2FsZXMgdGhlIGN1cnJlbnQgZWxlbWVudFxuICAgICAqL1xuICAgIGN0eC5wcm90b3R5cGUuc2NhbGUgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICBpZiAoeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB5ID0geDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9fYWRkVHJhbnNmb3JtKGZvcm1hdChcInNjYWxlKHt4fSx7eX0pXCIsIHt4OngsIHk6eX0pKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogcm90YXRlcyB0aGUgY3VycmVudCBlbGVtZW50XG4gICAgICovXG4gICAgY3R4LnByb3RvdHlwZS5yb3RhdGUgPSBmdW5jdGlvbiAoYW5nbGUpIHtcbiAgICAgICAgdmFyIGRlZ3JlZXMgPSAoYW5nbGUgKiAxODAgLyBNYXRoLlBJKTtcbiAgICAgICAgdGhpcy5fX2FkZFRyYW5zZm9ybShmb3JtYXQoXCJyb3RhdGUoe2FuZ2xlfSx7Y3h9LHtjeX0pXCIsIHthbmdsZTpkZWdyZWVzLCBjeDowLCBjeTowfSkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiB0cmFuc2xhdGVzIHRoZSBjdXJyZW50IGVsZW1lbnRcbiAgICAgKi9cbiAgICBjdHgucHJvdG90eXBlLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHRoaXMuX19hZGRUcmFuc2Zvcm0oZm9ybWF0KFwidHJhbnNsYXRlKHt4fSx7eX0pXCIsIHt4OngseTp5fSkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBhcHBsaWVzIGEgdHJhbnNmb3JtIHRvIHRoZSBjdXJyZW50IGVsZW1lbnRcbiAgICAgKi9cbiAgICBjdHgucHJvdG90eXBlLnRyYW5zZm9ybSA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkLCBlLCBmKSB7XG4gICAgICAgIHRoaXMuX19hZGRUcmFuc2Zvcm0oZm9ybWF0KFwibWF0cml4KHthfSx7Yn0se2N9LHtkfSx7ZX0se2Z9KVwiLCB7YTphLCBiOmIsIGM6YywgZDpkLCBlOmUsIGY6Zn0pKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IFBhdGggRWxlbWVudFxuICAgICAqL1xuICAgIGN0eC5wcm90b3R5cGUuYmVnaW5QYXRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcGF0aCwgcGFyZW50O1xuXG4gICAgICAgIC8vIE5vdGUgdGhhdCB0aGVyZSBpcyBvbmx5IG9uZSBjdXJyZW50IGRlZmF1bHQgcGF0aCwgaXQgaXMgbm90IHBhcnQgb2YgdGhlIGRyYXdpbmcgc3RhdGUuXG4gICAgICAgIC8vIFNlZSBhbHNvOiBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zY3JpcHRpbmcuaHRtbCNjdXJyZW50LWRlZmF1bHQtcGF0aFxuICAgICAgICB0aGlzLl9fY3VycmVudERlZmF1bHRQYXRoID0gXCJcIjtcbiAgICAgICAgdGhpcy5fX2N1cnJlbnRQb3NpdGlvbiA9IHt9O1xuXG4gICAgICAgIHBhdGggPSB0aGlzLl9fY3JlYXRlRWxlbWVudChcInBhdGhcIiwge30sIHRydWUpO1xuICAgICAgICBwYXJlbnQgPSB0aGlzLl9fY2xvc2VzdEdyb3VwT3JTdmcoKTtcbiAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKHBhdGgpO1xuICAgICAgICB0aGlzLl9fY3VycmVudEVsZW1lbnQgPSBwYXRoO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gYXBwbHkgY3VycmVudERlZmF1bHRQYXRoIHRvIGN1cnJlbnQgcGF0aCBlbGVtZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjdHgucHJvdG90eXBlLl9fYXBwbHlDdXJyZW50RGVmYXVsdFBhdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgXHR2YXIgY3VycmVudEVsZW1lbnQgPSB0aGlzLl9fY3VycmVudEVsZW1lbnQ7XG4gICAgICAgIGlmIChjdXJyZW50RWxlbWVudC5ub2RlTmFtZSA9PT0gXCJwYXRoXCIpIHtcblx0XHRcdGN1cnJlbnRFbGVtZW50LnNldEF0dHJpYnV0ZShcImRcIiwgdGhpcy5fX2N1cnJlbnREZWZhdWx0UGF0aCk7XG4gICAgICAgIH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwiQXR0ZW1wdGVkIHRvIGFwcGx5IHBhdGggY29tbWFuZCB0byBub2RlXCIsIGN1cnJlbnRFbGVtZW50Lm5vZGVOYW1lKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gYWRkIHBhdGggY29tbWFuZFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY3R4LnByb3RvdHlwZS5fX2FkZFBhdGhDb21tYW5kID0gZnVuY3Rpb24gKGNvbW1hbmQpIHtcbiAgICAgICAgdGhpcy5fX2N1cnJlbnREZWZhdWx0UGF0aCArPSBcIiBcIjtcbiAgICAgICAgdGhpcy5fX2N1cnJlbnREZWZhdWx0UGF0aCArPSBjb21tYW5kO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHRoZSBtb3ZlIGNvbW1hbmQgdG8gdGhlIGN1cnJlbnQgcGF0aCBlbGVtZW50LFxuICAgICAqIGlmIHRoZSBjdXJyZW50UGF0aEVsZW1lbnQgaXMgbm90IGVtcHR5IGNyZWF0ZSBhIG5ldyBwYXRoIGVsZW1lbnRcbiAgICAgKi9cbiAgICBjdHgucHJvdG90eXBlLm1vdmVUbyA9IGZ1bmN0aW9uICh4LHkpIHtcbiAgICAgICAgaWYgKHRoaXMuX19jdXJyZW50RWxlbWVudC5ub2RlTmFtZSAhPT0gXCJwYXRoXCIpIHtcbiAgICAgICAgICAgIHRoaXMuYmVnaW5QYXRoKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjcmVhdGVzIGEgbmV3IHN1YnBhdGggd2l0aCB0aGUgZ2l2ZW4gcG9pbnRcbiAgICAgICAgdGhpcy5fX2N1cnJlbnRQb3NpdGlvbiA9IHt4OiB4LCB5OiB5fTtcbiAgICAgICAgdGhpcy5fX2FkZFBhdGhDb21tYW5kKGZvcm1hdChcIk0ge3h9IHt5fVwiLCB7eDp4LCB5Onl9KSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsb3NlcyB0aGUgY3VycmVudCBwYXRoXG4gICAgICovXG4gICAgY3R4LnByb3RvdHlwZS5jbG9zZVBhdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9fY3VycmVudERlZmF1bHRQYXRoKSB7XG4gICAgICAgICAgICB0aGlzLl9fYWRkUGF0aENvbW1hbmQoXCJaXCIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBsaW5lIHRvIGNvbW1hbmRcbiAgICAgKi9cbiAgICBjdHgucHJvdG90eXBlLmxpbmVUbyA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHRoaXMuX19jdXJyZW50UG9zaXRpb24gPSB7eDogeCwgeTogeX07XG4gICAgICAgIGlmICh0aGlzLl9fY3VycmVudERlZmF1bHRQYXRoLmluZGV4T2YoJ00nKSA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl9fYWRkUGF0aENvbW1hbmQoZm9ybWF0KFwiTCB7eH0ge3l9XCIsIHt4OngsIHk6eX0pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX19hZGRQYXRoQ29tbWFuZChmb3JtYXQoXCJNIHt4fSB7eX1cIiwge3g6eCwgeTp5fSkpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZCBhIGJlemllciBjb21tYW5kXG4gICAgICovXG4gICAgY3R4LnByb3RvdHlwZS5iZXppZXJDdXJ2ZVRvID0gZnVuY3Rpb24gKGNwMXgsIGNwMXksIGNwMngsIGNwMnksIHgsIHkpIHtcbiAgICAgICAgdGhpcy5fX2N1cnJlbnRQb3NpdGlvbiA9IHt4OiB4LCB5OiB5fTtcbiAgICAgICAgdGhpcy5fX2FkZFBhdGhDb21tYW5kKGZvcm1hdChcIkMge2NwMXh9IHtjcDF5fSB7Y3AyeH0ge2NwMnl9IHt4fSB7eX1cIixcbiAgICAgICAgICAgIHtjcDF4OmNwMXgsIGNwMXk6Y3AxeSwgY3AyeDpjcDJ4LCBjcDJ5OmNwMnksIHg6eCwgeTp5fSkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgcXVhZHJhdGljIGN1cnZlIHRvIGNvbW1hbmRcbiAgICAgKi9cbiAgICBjdHgucHJvdG90eXBlLnF1YWRyYXRpY0N1cnZlVG8gPSBmdW5jdGlvbiAoY3B4LCBjcHksIHgsIHkpIHtcbiAgICAgICAgdGhpcy5fX2N1cnJlbnRQb3NpdGlvbiA9IHt4OiB4LCB5OiB5fTtcbiAgICAgICAgdGhpcy5fX2FkZFBhdGhDb21tYW5kKGZvcm1hdChcIlEge2NweH0ge2NweX0ge3h9IHt5fVwiLCB7Y3B4OmNweCwgY3B5OmNweSwgeDp4LCB5Onl9KSk7XG4gICAgfTtcblxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgbmV3IG5vcm1hbGl6ZWQgdmVjdG9yIG9mIGdpdmVuIHZlY3RvclxuICAgICAqL1xuICAgIHZhciBub3JtYWxpemUgPSBmdW5jdGlvbiAodmVjdG9yKSB7XG4gICAgICAgIHZhciBsZW4gPSBNYXRoLnNxcnQodmVjdG9yWzBdICogdmVjdG9yWzBdICsgdmVjdG9yWzFdICogdmVjdG9yWzFdKTtcbiAgICAgICAgcmV0dXJuIFt2ZWN0b3JbMF0gLyBsZW4sIHZlY3RvclsxXSAvIGxlbl07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgdGhlIGFyY1RvIHRvIHRoZSBjdXJyZW50IHBhdGhcbiAgICAgKlxuICAgICAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvMjAxNS9XRC0yZGNvbnRleHQtMjAxNTA1MTQvI2RvbS1jb250ZXh0LTJkLWFyY3RvXG4gICAgICovXG4gICAgY3R4LnByb3RvdHlwZS5hcmNUbyA9IGZ1bmN0aW9uICh4MSwgeTEsIHgyLCB5MiwgcmFkaXVzKSB7XG4gICAgICAgIC8vIExldCB0aGUgcG9pbnQgKHgwLCB5MCkgYmUgdGhlIGxhc3QgcG9pbnQgaW4gdGhlIHN1YnBhdGguXG4gICAgICAgIHZhciB4MCA9IHRoaXMuX19jdXJyZW50UG9zaXRpb24gJiYgdGhpcy5fX2N1cnJlbnRQb3NpdGlvbi54O1xuICAgICAgICB2YXIgeTAgPSB0aGlzLl9fY3VycmVudFBvc2l0aW9uICYmIHRoaXMuX19jdXJyZW50UG9zaXRpb24ueTtcblxuICAgICAgICAvLyBGaXJzdCBlbnN1cmUgdGhlcmUgaXMgYSBzdWJwYXRoIGZvciAoeDEsIHkxKS5cbiAgICAgICAgaWYgKHR5cGVvZiB4MCA9PSBcInVuZGVmaW5lZFwiIHx8IHR5cGVvZiB5MCA9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBOZWdhdGl2ZSB2YWx1ZXMgZm9yIHJhZGl1cyBtdXN0IGNhdXNlIHRoZSBpbXBsZW1lbnRhdGlvbiB0byB0aHJvdyBhbiBJbmRleFNpemVFcnJvciBleGNlcHRpb24uXG4gICAgICAgIGlmIChyYWRpdXMgPCAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbmRleFNpemVFcnJvcjogVGhlIHJhZGl1cyBwcm92aWRlZCAoXCIgKyByYWRpdXMgKyBcIikgaXMgbmVnYXRpdmUuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgdGhlIHBvaW50ICh4MCwgeTApIGlzIGVxdWFsIHRvIHRoZSBwb2ludCAoeDEsIHkxKSxcbiAgICAgICAgLy8gb3IgaWYgdGhlIHBvaW50ICh4MSwgeTEpIGlzIGVxdWFsIHRvIHRoZSBwb2ludCAoeDIsIHkyKSxcbiAgICAgICAgLy8gb3IgaWYgdGhlIHJhZGl1cyByYWRpdXMgaXMgemVybyxcbiAgICAgICAgLy8gdGhlbiB0aGUgbWV0aG9kIG11c3QgYWRkIHRoZSBwb2ludCAoeDEsIHkxKSB0byB0aGUgc3VicGF0aCxcbiAgICAgICAgLy8gYW5kIGNvbm5lY3QgdGhhdCBwb2ludCB0byB0aGUgcHJldmlvdXMgcG9pbnQgKHgwLCB5MCkgYnkgYSBzdHJhaWdodCBsaW5lLlxuICAgICAgICBpZiAoKCh4MCA9PT0geDEpICYmICh5MCA9PT0geTEpKVxuICAgICAgICAgICAgfHwgKCh4MSA9PT0geDIpICYmICh5MSA9PT0geTIpKVxuICAgICAgICAgICAgfHwgKHJhZGl1cyA9PT0gMCkpIHtcbiAgICAgICAgICAgIHRoaXMubGluZVRvKHgxLCB5MSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBPdGhlcndpc2UsIGlmIHRoZSBwb2ludHMgKHgwLCB5MCksICh4MSwgeTEpLCBhbmQgKHgyLCB5MikgYWxsIGxpZSBvbiBhIHNpbmdsZSBzdHJhaWdodCBsaW5lLFxuICAgICAgICAvLyB0aGVuIHRoZSBtZXRob2QgbXVzdCBhZGQgdGhlIHBvaW50ICh4MSwgeTEpIHRvIHRoZSBzdWJwYXRoLFxuICAgICAgICAvLyBhbmQgY29ubmVjdCB0aGF0IHBvaW50IHRvIHRoZSBwcmV2aW91cyBwb2ludCAoeDAsIHkwKSBieSBhIHN0cmFpZ2h0IGxpbmUuXG4gICAgICAgIHZhciB1bml0X3ZlY19wMV9wMCA9IG5vcm1hbGl6ZShbeDAgLSB4MSwgeTAgLSB5MV0pO1xuICAgICAgICB2YXIgdW5pdF92ZWNfcDFfcDIgPSBub3JtYWxpemUoW3gyIC0geDEsIHkyIC0geTFdKTtcbiAgICAgICAgaWYgKHVuaXRfdmVjX3AxX3AwWzBdICogdW5pdF92ZWNfcDFfcDJbMV0gPT09IHVuaXRfdmVjX3AxX3AwWzFdICogdW5pdF92ZWNfcDFfcDJbMF0pIHtcbiAgICAgICAgICAgIHRoaXMubGluZVRvKHgxLCB5MSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBPdGhlcndpc2UsIGxldCBUaGUgQXJjIGJlIHRoZSBzaG9ydGVzdCBhcmMgZ2l2ZW4gYnkgY2lyY3VtZmVyZW5jZSBvZiB0aGUgY2lyY2xlIHRoYXQgaGFzIHJhZGl1cyByYWRpdXMsXG4gICAgICAgIC8vIGFuZCB0aGF0IGhhcyBvbmUgcG9pbnQgdGFuZ2VudCB0byB0aGUgaGFsZi1pbmZpbml0ZSBsaW5lIHRoYXQgY3Jvc3NlcyB0aGUgcG9pbnQgKHgwLCB5MCkgYW5kIGVuZHMgYXQgdGhlIHBvaW50ICh4MSwgeTEpLFxuICAgICAgICAvLyBhbmQgdGhhdCBoYXMgYSBkaWZmZXJlbnQgcG9pbnQgdGFuZ2VudCB0byB0aGUgaGFsZi1pbmZpbml0ZSBsaW5lIHRoYXQgZW5kcyBhdCB0aGUgcG9pbnQgKHgxLCB5MSksIGFuZCBjcm9zc2VzIHRoZSBwb2ludCAoeDIsIHkyKS5cbiAgICAgICAgLy8gVGhlIHBvaW50cyBhdCB3aGljaCB0aGlzIGNpcmNsZSB0b3VjaGVzIHRoZXNlIHR3byBsaW5lcyBhcmUgY2FsbGVkIHRoZSBzdGFydCBhbmQgZW5kIHRhbmdlbnQgcG9pbnRzIHJlc3BlY3RpdmVseS5cblxuICAgICAgICAvLyBub3RlIHRoYXQgYm90aCB2ZWN0b3JzIGFyZSB1bml0IHZlY3RvcnMsIHNvIHRoZSBsZW5ndGggaXMgMVxuICAgICAgICB2YXIgY29zID0gKHVuaXRfdmVjX3AxX3AwWzBdICogdW5pdF92ZWNfcDFfcDJbMF0gKyB1bml0X3ZlY19wMV9wMFsxXSAqIHVuaXRfdmVjX3AxX3AyWzFdKTtcbiAgICAgICAgdmFyIHRoZXRhID0gTWF0aC5hY29zKE1hdGguYWJzKGNvcykpO1xuXG4gICAgICAgIC8vIENhbGN1bGF0ZSBvcmlnaW5cbiAgICAgICAgdmFyIHVuaXRfdmVjX3AxX29yaWdpbiA9IG5vcm1hbGl6ZShbXG4gICAgICAgICAgICB1bml0X3ZlY19wMV9wMFswXSArIHVuaXRfdmVjX3AxX3AyWzBdLFxuICAgICAgICAgICAgdW5pdF92ZWNfcDFfcDBbMV0gKyB1bml0X3ZlY19wMV9wMlsxXVxuICAgICAgICBdKTtcbiAgICAgICAgdmFyIGxlbl9wMV9vcmlnaW4gPSByYWRpdXMgLyBNYXRoLnNpbih0aGV0YSAvIDIpO1xuICAgICAgICB2YXIgeCA9IHgxICsgbGVuX3AxX29yaWdpbiAqIHVuaXRfdmVjX3AxX29yaWdpblswXTtcbiAgICAgICAgdmFyIHkgPSB5MSArIGxlbl9wMV9vcmlnaW4gKiB1bml0X3ZlY19wMV9vcmlnaW5bMV07XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHN0YXJ0IGFuZ2xlIGFuZCBlbmQgYW5nbGVcbiAgICAgICAgLy8gcm90YXRlIDkwZGVnIGNsb2Nrd2lzZSAobm90ZSB0aGF0IHkgYXhpcyBwb2ludHMgdG8gaXRzIGRvd24pXG4gICAgICAgIHZhciB1bml0X3ZlY19vcmlnaW5fc3RhcnRfdGFuZ2VudCA9IFtcbiAgICAgICAgICAgIC11bml0X3ZlY19wMV9wMFsxXSxcbiAgICAgICAgICAgIHVuaXRfdmVjX3AxX3AwWzBdXG4gICAgICAgIF07XG4gICAgICAgIC8vIHJvdGF0ZSA5MGRlZyBjb3VudGVyIGNsb2Nrd2lzZSAobm90ZSB0aGF0IHkgYXhpcyBwb2ludHMgdG8gaXRzIGRvd24pXG4gICAgICAgIHZhciB1bml0X3ZlY19vcmlnaW5fZW5kX3RhbmdlbnQgPSBbXG4gICAgICAgICAgICB1bml0X3ZlY19wMV9wMlsxXSxcbiAgICAgICAgICAgIC11bml0X3ZlY19wMV9wMlswXVxuICAgICAgICBdO1xuICAgICAgICB2YXIgZ2V0QW5nbGUgPSBmdW5jdGlvbiAodmVjdG9yKSB7XG4gICAgICAgICAgICAvLyBnZXQgYW5nbGUgKGNsb2Nrd2lzZSkgYmV0d2VlbiB2ZWN0b3IgYW5kICgxLCAwKVxuICAgICAgICAgICAgdmFyIHggPSB2ZWN0b3JbMF07XG4gICAgICAgICAgICB2YXIgeSA9IHZlY3RvclsxXTtcbiAgICAgICAgICAgIGlmICh5ID49IDApIHsgLy8gbm90ZSB0aGF0IHkgYXhpcyBwb2ludHMgdG8gaXRzIGRvd25cbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5hY29zKHgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gLU1hdGguYWNvcyh4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHN0YXJ0QW5nbGUgPSBnZXRBbmdsZSh1bml0X3ZlY19vcmlnaW5fc3RhcnRfdGFuZ2VudCk7XG4gICAgICAgIHZhciBlbmRBbmdsZSA9IGdldEFuZ2xlKHVuaXRfdmVjX29yaWdpbl9lbmRfdGFuZ2VudCk7XG5cbiAgICAgICAgLy8gQ29ubmVjdCB0aGUgcG9pbnQgKHgwLCB5MCkgdG8gdGhlIHN0YXJ0IHRhbmdlbnQgcG9pbnQgYnkgYSBzdHJhaWdodCBsaW5lXG4gICAgICAgIHRoaXMubGluZVRvKHggKyB1bml0X3ZlY19vcmlnaW5fc3RhcnRfdGFuZ2VudFswXSAqIHJhZGl1cyxcbiAgICAgICAgICAgICAgICAgICAgeSArIHVuaXRfdmVjX29yaWdpbl9zdGFydF90YW5nZW50WzFdICogcmFkaXVzKTtcblxuICAgICAgICAvLyBDb25uZWN0IHRoZSBzdGFydCB0YW5nZW50IHBvaW50IHRvIHRoZSBlbmQgdGFuZ2VudCBwb2ludCBieSBhcmNcbiAgICAgICAgLy8gYW5kIGFkZGluZyB0aGUgZW5kIHRhbmdlbnQgcG9pbnQgdG8gdGhlIHN1YnBhdGguXG4gICAgICAgIHRoaXMuYXJjKHgsIHksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzdHJva2UgcHJvcGVydHkgb24gdGhlIGN1cnJlbnQgZWxlbWVudFxuICAgICAqL1xuICAgIGN0eC5wcm90b3R5cGUuc3Ryb2tlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fX2N1cnJlbnRFbGVtZW50Lm5vZGVOYW1lID09PSBcInBhdGhcIikge1xuICAgICAgICAgICAgdGhpcy5fX2N1cnJlbnRFbGVtZW50LnNldEF0dHJpYnV0ZShcInBhaW50LW9yZGVyXCIsIFwiZmlsbCBzdHJva2UgbWFya2Vyc1wiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9fYXBwbHlDdXJyZW50RGVmYXVsdFBhdGgoKTtcbiAgICAgICAgdGhpcy5fX2FwcGx5U3R5bGVUb0N1cnJlbnRFbGVtZW50KFwic3Ryb2tlXCIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGZpbGwgcHJvcGVydGllcyBvbiB0aGUgY3VycmVudCBlbGVtZW50XG4gICAgICovXG4gICAgY3R4LnByb3RvdHlwZS5maWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fX2N1cnJlbnRFbGVtZW50Lm5vZGVOYW1lID09PSBcInBhdGhcIikge1xuICAgICAgICAgICAgdGhpcy5fX2N1cnJlbnRFbGVtZW50LnNldEF0dHJpYnV0ZShcInBhaW50LW9yZGVyXCIsIFwic3Ryb2tlIGZpbGwgbWFya2Vyc1wiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9fYXBwbHlDdXJyZW50RGVmYXVsdFBhdGgoKTtcbiAgICAgICAgdGhpcy5fX2FwcGx5U3R5bGVUb0N1cnJlbnRFbGVtZW50KFwiZmlsbFwiKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogIEFkZHMgYSByZWN0YW5nbGUgdG8gdGhlIHBhdGguXG4gICAgICovXG4gICAgY3R4LnByb3RvdHlwZS5yZWN0ID0gZnVuY3Rpb24gKHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgaWYgKHRoaXMuX19jdXJyZW50RWxlbWVudC5ub2RlTmFtZSAhPT0gXCJwYXRoXCIpIHtcbiAgICAgICAgICAgIHRoaXMuYmVnaW5QYXRoKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tb3ZlVG8oeCwgeSk7XG4gICAgICAgIHRoaXMubGluZVRvKHgrd2lkdGgsIHkpO1xuICAgICAgICB0aGlzLmxpbmVUbyh4K3dpZHRoLCB5K2hlaWdodCk7XG4gICAgICAgIHRoaXMubGluZVRvKHgsIHkraGVpZ2h0KTtcbiAgICAgICAgdGhpcy5saW5lVG8oeCwgeSk7XG4gICAgICAgIHRoaXMuY2xvc2VQYXRoKCk7XG4gICAgfTtcblxuXG4gICAgLyoqXG4gICAgICogYWRkcyBhIHJlY3RhbmdsZSBlbGVtZW50XG4gICAgICovXG4gICAgY3R4LnByb3RvdHlwZS5maWxsUmVjdCA9IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHZhciByZWN0LCBwYXJlbnQ7XG4gICAgICAgIHJlY3QgPSB0aGlzLl9fY3JlYXRlRWxlbWVudChcInJlY3RcIiwge1xuICAgICAgICAgICAgeCA6IHgsXG4gICAgICAgICAgICB5IDogeSxcbiAgICAgICAgICAgIHdpZHRoIDogd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQgOiBoZWlnaHRcbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgIHBhcmVudCA9IHRoaXMuX19jbG9zZXN0R3JvdXBPclN2ZygpO1xuICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQocmVjdCk7XG4gICAgICAgIHRoaXMuX19jdXJyZW50RWxlbWVudCA9IHJlY3Q7XG4gICAgICAgIHRoaXMuX19hcHBseVN0eWxlVG9DdXJyZW50RWxlbWVudChcImZpbGxcIik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGEgcmVjdGFuZ2xlIHdpdGggbm8gZmlsbFxuICAgICAqIEBwYXJhbSB4XG4gICAgICogQHBhcmFtIHlcbiAgICAgKiBAcGFyYW0gd2lkdGhcbiAgICAgKiBAcGFyYW0gaGVpZ2h0XG4gICAgICovXG4gICAgY3R4LnByb3RvdHlwZS5zdHJva2VSZWN0ID0gZnVuY3Rpb24gKHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdmFyIHJlY3QsIHBhcmVudDtcbiAgICAgICAgcmVjdCA9IHRoaXMuX19jcmVhdGVFbGVtZW50KFwicmVjdFwiLCB7XG4gICAgICAgICAgICB4IDogeCxcbiAgICAgICAgICAgIHkgOiB5LFxuICAgICAgICAgICAgd2lkdGggOiB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCA6IGhlaWdodFxuICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgcGFyZW50ID0gdGhpcy5fX2Nsb3Nlc3RHcm91cE9yU3ZnKCk7XG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChyZWN0KTtcbiAgICAgICAgdGhpcy5fX2N1cnJlbnRFbGVtZW50ID0gcmVjdDtcbiAgICAgICAgdGhpcy5fX2FwcGx5U3R5bGVUb0N1cnJlbnRFbGVtZW50KFwic3Ryb2tlXCIpO1xuICAgIH07XG5cblxuICAgIC8qKlxuICAgICAqIENsZWFyIGVudGlyZSBjYW52YXM6XG4gICAgICogMS4gc2F2ZSBjdXJyZW50IHRyYW5zZm9ybXNcbiAgICAgKiAyLiByZW1vdmUgYWxsIHRoZSBjaGlsZE5vZGVzIG9mIHRoZSByb290IGcgZWxlbWVudFxuICAgICAqL1xuICAgIGN0eC5wcm90b3R5cGUuX19jbGVhckNhbnZhcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLl9fY2xvc2VzdEdyb3VwT3JTdmcoKSxcbiAgICAgICAgICAgIHRyYW5zZm9ybSA9IGN1cnJlbnQuZ2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIpO1xuICAgICAgICB2YXIgcm9vdEdyb3VwID0gdGhpcy5fX3Jvb3QuY2hpbGROb2Rlc1sxXTtcbiAgICAgICAgdmFyIGNoaWxkTm9kZXMgPSByb290R3JvdXAuY2hpbGROb2RlcztcbiAgICAgICAgZm9yICh2YXIgaSA9IGNoaWxkTm9kZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGlmIChjaGlsZE5vZGVzW2ldKSB7XG4gICAgICAgICAgICAgICAgcm9vdEdyb3VwLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX19jdXJyZW50RWxlbWVudCA9IHJvb3RHcm91cDtcbiAgICAgICAgLy9yZXNldCBfX2dyb3VwU3RhY2sgYXMgYWxsIHRoZSBjaGlsZCBncm91cCBub2RlcyBhcmUgYWxsIHJlbW92ZWQuXG4gICAgICAgIHRoaXMuX19ncm91cFN0YWNrID0gW107XG4gICAgICAgIGlmICh0cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIHRoaXMuX19hZGRUcmFuc2Zvcm0odHJhbnNmb3JtKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBcIkNsZWFyc1wiIGEgY2FudmFzIGJ5IGp1c3QgZHJhd2luZyBhIHdoaXRlIHJlY3RhbmdsZSBpbiB0aGUgY3VycmVudCBncm91cC5cbiAgICAgKi9cbiAgICBjdHgucHJvdG90eXBlLmNsZWFyUmVjdCA9IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIC8vY2xlYXIgZW50aXJlIGNhbnZhc1xuICAgICAgICBpZiAoeCA9PT0gMCAmJiB5ID09PSAwICYmIHdpZHRoID09PSB0aGlzLndpZHRoICYmIGhlaWdodCA9PT0gdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuX19jbGVhckNhbnZhcygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZWN0LCBwYXJlbnQgPSB0aGlzLl9fY2xvc2VzdEdyb3VwT3JTdmcoKTtcbiAgICAgICAgcmVjdCA9IHRoaXMuX19jcmVhdGVFbGVtZW50KFwicmVjdFwiLCB7XG4gICAgICAgICAgICB4IDogeCxcbiAgICAgICAgICAgIHkgOiB5LFxuICAgICAgICAgICAgd2lkdGggOiB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCA6IGhlaWdodCxcbiAgICAgICAgICAgIGZpbGwgOiBcIiNGRkZGRkZcIlxuICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKHJlY3QpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbGluZWFyIGdyYWRpZW50IHRvIGEgZGVmcyB0YWcuXG4gICAgICogUmV0dXJucyBhIGNhbnZhcyBncmFkaWVudCBvYmplY3QgdGhhdCBoYXMgYSByZWZlcmVuY2UgdG8gaXQncyBwYXJlbnQgZGVmXG4gICAgICovXG4gICAgY3R4LnByb3RvdHlwZS5jcmVhdGVMaW5lYXJHcmFkaWVudCA9IGZ1bmN0aW9uICh4MSwgeTEsIHgyLCB5Mikge1xuICAgICAgICB2YXIgZ3JhZCA9IHRoaXMuX19jcmVhdGVFbGVtZW50KFwibGluZWFyR3JhZGllbnRcIiwge1xuICAgICAgICAgICAgaWQgOiByYW5kb21TdHJpbmcodGhpcy5fX2lkcyksXG4gICAgICAgICAgICB4MSA6IHgxK1wicHhcIixcbiAgICAgICAgICAgIHgyIDogeDIrXCJweFwiLFxuICAgICAgICAgICAgeTEgOiB5MStcInB4XCIsXG4gICAgICAgICAgICB5MiA6IHkyK1wicHhcIixcbiAgICAgICAgICAgIFwiZ3JhZGllbnRVbml0c1wiIDogXCJ1c2VyU3BhY2VPblVzZVwiXG4gICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgdGhpcy5fX2RlZnMuYXBwZW5kQ2hpbGQoZ3JhZCk7XG4gICAgICAgIHJldHVybiBuZXcgQ2FudmFzR3JhZGllbnQoZ3JhZCwgdGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSByYWRpYWwgZ3JhZGllbnQgdG8gYSBkZWZzIHRhZy5cbiAgICAgKiBSZXR1cm5zIGEgY2FudmFzIGdyYWRpZW50IG9iamVjdCB0aGF0IGhhcyBhIHJlZmVyZW5jZSB0byBpdCdzIHBhcmVudCBkZWZcbiAgICAgKi9cbiAgICBjdHgucHJvdG90eXBlLmNyZWF0ZVJhZGlhbEdyYWRpZW50ID0gZnVuY3Rpb24gKHgwLCB5MCwgcjAsIHgxLCB5MSwgcjEpIHtcbiAgICAgICAgdmFyIGdyYWQgPSB0aGlzLl9fY3JlYXRlRWxlbWVudChcInJhZGlhbEdyYWRpZW50XCIsIHtcbiAgICAgICAgICAgIGlkIDogcmFuZG9tU3RyaW5nKHRoaXMuX19pZHMpLFxuICAgICAgICAgICAgY3ggOiB4MStcInB4XCIsXG4gICAgICAgICAgICBjeSA6IHkxK1wicHhcIixcbiAgICAgICAgICAgIHIgIDogcjErXCJweFwiLFxuICAgICAgICAgICAgZnggOiB4MCtcInB4XCIsXG4gICAgICAgICAgICBmeSA6IHkwK1wicHhcIixcbiAgICAgICAgICAgIFwiZ3JhZGllbnRVbml0c1wiIDogXCJ1c2VyU3BhY2VPblVzZVwiXG4gICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgdGhpcy5fX2RlZnMuYXBwZW5kQ2hpbGQoZ3JhZCk7XG4gICAgICAgIHJldHVybiBuZXcgQ2FudmFzR3JhZGllbnQoZ3JhZCwgdGhpcyk7XG5cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGFyc2VzIHRoZSBmb250IHN0cmluZyBhbmQgcmV0dXJucyBzdmcgbWFwcGluZ1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY3R4LnByb3RvdHlwZS5fX3BhcnNlRm9udCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlZ2V4ID0gL15cXHMqKD89KD86KD86Wy1hLXpdK1xccyopezAsMn0oaXRhbGljfG9ibGlxdWUpKT8pKD89KD86KD86Wy1hLXpdK1xccyopezAsMn0oc21hbGwtY2FwcykpPykoPz0oPzooPzpbLWEtel0rXFxzKil7MCwyfShib2xkKD86ZXIpP3xsaWdodGVyfFsxLTldMDApKT8pKD86KD86bm9ybWFsfFxcMXxcXDJ8XFwzKVxccyopezAsM30oKD86eHg/LSk/KD86c21hbGx8bGFyZ2UpfG1lZGl1bXxzbWFsbGVyfGxhcmdlcnxbLlxcZF0rKD86XFwlfGlufFtjZW1dbXxleHxwW2N0eF0pKSg/OlxccypcXC9cXHMqKG5vcm1hbHxbLlxcZF0rKD86XFwlfGlufFtjZW1dbXxleHxwW2N0eF0pKSk/XFxzKihbLSxcXCdcXFwiXFxzYS16MC05XSs/KVxccyokL2k7XG4gICAgICAgIHZhciBmb250UGFydCA9IHJlZ2V4LmV4ZWMoIHRoaXMuZm9udCApO1xuICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgIHN0eWxlIDogZm9udFBhcnRbMV0gfHwgJ25vcm1hbCcsXG4gICAgICAgICAgICBzaXplIDogZm9udFBhcnRbNF0gfHwgJzEwcHgnLFxuICAgICAgICAgICAgZmFtaWx5IDogZm9udFBhcnRbNl0gfHwgJ3NhbnMtc2VyaWYnLFxuICAgICAgICAgICAgd2VpZ2h0OiBmb250UGFydFszXSB8fCAnbm9ybWFsJyxcbiAgICAgICAgICAgIGRlY29yYXRpb24gOiBmb250UGFydFsyXSB8fCAnbm9ybWFsJyxcbiAgICAgICAgICAgIGhyZWYgOiBudWxsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy9jYW52YXMgZG9lc24ndCBzdXBwb3J0IHVuZGVybGluZSBuYXRpdmVseSwgYnV0IHdlIGNhbiBwYXNzIHRoaXMgYXR0cmlidXRlXG4gICAgICAgIGlmICh0aGlzLl9fZm9udFVuZGVybGluZSA9PT0gXCJ1bmRlcmxpbmVcIikge1xuICAgICAgICAgICAgZGF0YS5kZWNvcmF0aW9uID0gXCJ1bmRlcmxpbmVcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vY2FudmFzIGFsc28gZG9lc24ndCBzdXBwb3J0IGxpbmtpbmcsIGJ1dCB3ZSBjYW4gcGFzcyB0aGlzIGFzIHdlbGxcbiAgICAgICAgaWYgKHRoaXMuX19mb250SHJlZikge1xuICAgICAgICAgICAgZGF0YS5ocmVmID0gdGhpcy5fX2ZvbnRIcmVmO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciB0byBsaW5rIHRleHQgZnJhZ21lbnRzXG4gICAgICogQHBhcmFtIGZvbnRcbiAgICAgKiBAcGFyYW0gZWxlbWVudFxuICAgICAqIEByZXR1cm4geyp9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjdHgucHJvdG90eXBlLl9fd3JhcFRleHRMaW5rID0gZnVuY3Rpb24gKGZvbnQsIGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKGZvbnQuaHJlZikge1xuICAgICAgICAgICAgdmFyIGEgPSB0aGlzLl9fY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgICAgICAgICBhLnNldEF0dHJpYnV0ZU5TKFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLCBcInhsaW5rOmhyZWZcIiwgZm9udC5ocmVmKTtcbiAgICAgICAgICAgIGEuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmlsbHMgb3Igc3Ryb2tlcyB0ZXh0XG4gICAgICogQHBhcmFtIHRleHRcbiAgICAgKiBAcGFyYW0geFxuICAgICAqIEBwYXJhbSB5XG4gICAgICogQHBhcmFtIGFjdGlvbiAtIHN0cm9rZSBvciBmaWxsXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjdHgucHJvdG90eXBlLl9fYXBwbHlUZXh0ID0gZnVuY3Rpb24gKHRleHQsIHgsIHksIGFjdGlvbikge1xuICAgICAgICB2YXIgZm9udCA9IHRoaXMuX19wYXJzZUZvbnQoKSxcbiAgICAgICAgICAgIHBhcmVudCA9IHRoaXMuX19jbG9zZXN0R3JvdXBPclN2ZygpLFxuICAgICAgICAgICAgdGV4dEVsZW1lbnQgPSB0aGlzLl9fY3JlYXRlRWxlbWVudChcInRleHRcIiwge1xuICAgICAgICAgICAgICAgIFwiZm9udC1mYW1pbHlcIiA6IGZvbnQuZmFtaWx5LFxuICAgICAgICAgICAgICAgIFwiZm9udC1zaXplXCIgOiBmb250LnNpemUsXG4gICAgICAgICAgICAgICAgXCJmb250LXN0eWxlXCIgOiBmb250LnN0eWxlLFxuICAgICAgICAgICAgICAgIFwiZm9udC13ZWlnaHRcIiA6IGZvbnQud2VpZ2h0LFxuICAgICAgICAgICAgICAgIFwidGV4dC1kZWNvcmF0aW9uXCIgOiBmb250LmRlY29yYXRpb24sXG4gICAgICAgICAgICAgICAgXCJ4XCIgOiB4LFxuICAgICAgICAgICAgICAgIFwieVwiIDogeSxcbiAgICAgICAgICAgICAgICBcInRleHQtYW5jaG9yXCI6IGdldFRleHRBbmNob3IodGhpcy50ZXh0QWxpZ24pLFxuICAgICAgICAgICAgICAgIFwiZG9taW5hbnQtYmFzZWxpbmVcIjogZ2V0RG9taW5hbnRCYXNlbGluZSh0aGlzLnRleHRCYXNlbGluZSlcbiAgICAgICAgICAgIH0sIHRydWUpO1xuXG4gICAgICAgIHRleHRFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX19kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0ZXh0KSk7XG4gICAgICAgIHRoaXMuX19jdXJyZW50RWxlbWVudCA9IHRleHRFbGVtZW50O1xuICAgICAgICB0aGlzLl9fYXBwbHlTdHlsZVRvQ3VycmVudEVsZW1lbnQoYWN0aW9uKTtcbiAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKHRoaXMuX193cmFwVGV4dExpbmsoZm9udCx0ZXh0RWxlbWVudCkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgdGV4dCBlbGVtZW50XG4gICAgICogQHBhcmFtIHRleHRcbiAgICAgKiBAcGFyYW0geFxuICAgICAqIEBwYXJhbSB5XG4gICAgICovXG4gICAgY3R4LnByb3RvdHlwZS5maWxsVGV4dCA9IGZ1bmN0aW9uICh0ZXh0LCB4LCB5KSB7XG4gICAgICAgIHRoaXMuX19hcHBseVRleHQodGV4dCwgeCwgeSwgXCJmaWxsXCIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdHJva2VzIHRleHRcbiAgICAgKiBAcGFyYW0gdGV4dFxuICAgICAqIEBwYXJhbSB4XG4gICAgICogQHBhcmFtIHlcbiAgICAgKi9cbiAgICBjdHgucHJvdG90eXBlLnN0cm9rZVRleHQgPSBmdW5jdGlvbiAodGV4dCwgeCwgeSkge1xuICAgICAgICB0aGlzLl9fYXBwbHlUZXh0KHRleHQsIHgsIHksIFwic3Ryb2tlXCIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBObyBuZWVkIHRvIGltcGxlbWVudCB0aGlzIGZvciBzdmcuXG4gICAgICogQHBhcmFtIHRleHRcbiAgICAgKiBAcmV0dXJuIHtUZXh0TWV0cmljc31cbiAgICAgKi9cbiAgICBjdHgucHJvdG90eXBlLm1lYXN1cmVUZXh0ID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgdGhpcy5fX2N0eC5mb250ID0gdGhpcy5mb250O1xuICAgICAgICByZXR1cm4gdGhpcy5fX2N0eC5tZWFzdXJlVGV4dCh0ZXh0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogIEFyYyBjb21tYW5kIVxuICAgICAqL1xuICAgIGN0eC5wcm90b3R5cGUuYXJjID0gZnVuY3Rpb24gKHgsIHksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGNvdW50ZXJDbG9ja3dpc2UpIHtcbiAgICAgICAgLy8gaW4gY2FudmFzIG5vIGNpcmNsZSBpcyBkcmF3biBpZiBubyBhbmdsZSBpcyBwcm92aWRlZC5cbiAgICAgICAgaWYgKHN0YXJ0QW5nbGUgPT09IGVuZEFuZ2xlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3RhcnRBbmdsZSA9IHN0YXJ0QW5nbGUgJSAoMipNYXRoLlBJKTtcbiAgICAgICAgZW5kQW5nbGUgPSBlbmRBbmdsZSAlICgyKk1hdGguUEkpO1xuICAgICAgICBpZiAoc3RhcnRBbmdsZSA9PT0gZW5kQW5nbGUpIHtcbiAgICAgICAgICAgIC8vY2lyY2xlIHRpbWUhIHN1YnRyYWN0IHNvbWUgb2YgdGhlIGFuZ2xlIHNvIHN2ZyBpcyBoYXBweSAoc3ZnIGVsbGlwdGljYWwgYXJjIGNhbid0IGRyYXcgYSBmdWxsIGNpcmNsZSlcbiAgICAgICAgICAgIGVuZEFuZ2xlID0gKChlbmRBbmdsZSArICgyKk1hdGguUEkpKSAtIDAuMDAxICogKGNvdW50ZXJDbG9ja3dpc2UgPyAtMSA6IDEpKSAlICgyKk1hdGguUEkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbmRYID0geCtyYWRpdXMqTWF0aC5jb3MoZW5kQW5nbGUpLFxuICAgICAgICAgICAgZW5kWSA9IHkrcmFkaXVzKk1hdGguc2luKGVuZEFuZ2xlKSxcbiAgICAgICAgICAgIHN0YXJ0WCA9IHgrcmFkaXVzKk1hdGguY29zKHN0YXJ0QW5nbGUpLFxuICAgICAgICAgICAgc3RhcnRZID0geStyYWRpdXMqTWF0aC5zaW4oc3RhcnRBbmdsZSksXG4gICAgICAgICAgICBzd2VlcEZsYWcgPSBjb3VudGVyQ2xvY2t3aXNlID8gMCA6IDEsXG4gICAgICAgICAgICBsYXJnZUFyY0ZsYWcgPSAwLFxuICAgICAgICAgICAgZGlmZiA9IGVuZEFuZ2xlIC0gc3RhcnRBbmdsZTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZ2xpZmZ5L2NhbnZhczJzdmcvaXNzdWVzLzRcbiAgICAgICAgaWYgKGRpZmYgPCAwKSB7XG4gICAgICAgICAgICBkaWZmICs9IDIqTWF0aC5QSTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb3VudGVyQ2xvY2t3aXNlKSB7XG4gICAgICAgICAgICBsYXJnZUFyY0ZsYWcgPSBkaWZmID4gTWF0aC5QSSA/IDAgOiAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGFyZ2VBcmNGbGFnID0gZGlmZiA+IE1hdGguUEkgPyAxIDogMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubGluZVRvKHN0YXJ0WCwgc3RhcnRZKTtcbiAgICAgICAgdGhpcy5fX2FkZFBhdGhDb21tYW5kKGZvcm1hdChcIkEge3J4fSB7cnl9IHt4QXhpc1JvdGF0aW9ufSB7bGFyZ2VBcmNGbGFnfSB7c3dlZXBGbGFnfSB7ZW5kWH0ge2VuZFl9XCIsXG4gICAgICAgICAgICB7cng6cmFkaXVzLCByeTpyYWRpdXMsIHhBeGlzUm90YXRpb246MCwgbGFyZ2VBcmNGbGFnOmxhcmdlQXJjRmxhZywgc3dlZXBGbGFnOnN3ZWVwRmxhZywgZW5kWDplbmRYLCBlbmRZOmVuZFl9KSk7XG5cbiAgICAgICAgdGhpcy5fX2N1cnJlbnRQb3NpdGlvbiA9IHt4OiBlbmRYLCB5OiBlbmRZfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgQ2xpcFBhdGggZnJvbSB0aGUgY2xpcCBjb21tYW5kLlxuICAgICAqL1xuICAgIGN0eC5wcm90b3R5cGUuY2xpcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdyb3VwID0gdGhpcy5fX2Nsb3Nlc3RHcm91cE9yU3ZnKCksXG4gICAgICAgICAgICBjbGlwUGF0aCA9IHRoaXMuX19jcmVhdGVFbGVtZW50KFwiY2xpcFBhdGhcIiksXG4gICAgICAgICAgICBpZCA9ICByYW5kb21TdHJpbmcodGhpcy5fX2lkcyksXG4gICAgICAgICAgICBuZXdHcm91cCA9IHRoaXMuX19jcmVhdGVFbGVtZW50KFwiZ1wiKTtcblxuICAgICAgICB0aGlzLl9fYXBwbHlDdXJyZW50RGVmYXVsdFBhdGgoKTtcbiAgICAgICAgZ3JvdXAucmVtb3ZlQ2hpbGQodGhpcy5fX2N1cnJlbnRFbGVtZW50KTtcbiAgICAgICAgY2xpcFBhdGguc2V0QXR0cmlidXRlKFwiaWRcIiwgaWQpO1xuICAgICAgICBjbGlwUGF0aC5hcHBlbmRDaGlsZCh0aGlzLl9fY3VycmVudEVsZW1lbnQpO1xuXG4gICAgICAgIHRoaXMuX19kZWZzLmFwcGVuZENoaWxkKGNsaXBQYXRoKTtcblxuICAgICAgICAvL3NldCB0aGUgY2xpcCBwYXRoIHRvIHRoaXMgZ3JvdXBcbiAgICAgICAgZ3JvdXAuc2V0QXR0cmlidXRlKFwiY2xpcC1wYXRoXCIsIGZvcm1hdChcInVybCgje2lkfSlcIiwge2lkOmlkfSkpO1xuXG4gICAgICAgIC8vY2xpcCBwYXRocyBjYW4gYmUgc2NhbGVkIGFuZCB0cmFuc2Zvcm1lZCwgd2UgbmVlZCB0byBhZGQgYW5vdGhlciB3cmFwcGVyIGdyb3VwIHRvIGF2b2lkIGxhdGVyIHRyYW5zZm9ybWF0aW9uc1xuICAgICAgICAvLyB0byB0aGlzIHBhdGhcbiAgICAgICAgZ3JvdXAuYXBwZW5kQ2hpbGQobmV3R3JvdXApO1xuXG4gICAgICAgIHRoaXMuX19jdXJyZW50RWxlbWVudCA9IG5ld0dyb3VwO1xuXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGEgY2FudmFzLCBpbWFnZSBvciBtb2NrIGNvbnRleHQgdG8gdGhpcyBjYW52YXMuXG4gICAgICogTm90ZSB0aGF0IGFsbCBzdmcgZG9tIG1hbmlwdWxhdGlvbiB1c2VzIG5vZGUuY2hpbGROb2RlcyByYXRoZXIgdGhhbiBub2RlLmNoaWxkcmVuIGZvciBJRSBzdXBwb3J0LlxuICAgICAqIGh0dHA6Ly93d3cud2hhdHdnLm9yZy9zcGVjcy93ZWItYXBwcy9jdXJyZW50LXdvcmsvbXVsdGlwYWdlL3RoZS1jYW52YXMtZWxlbWVudC5odG1sI2RvbS1jb250ZXh0LTJkLWRyYXdpbWFnZVxuICAgICAqL1xuICAgIGN0eC5wcm90b3R5cGUuZHJhd0ltYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvL2NvbnZlcnQgYXJndW1lbnRzIHRvIGEgcmVhbCBhcnJheVxuICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksXG4gICAgICAgICAgICBpbWFnZT1hcmdzWzBdLFxuICAgICAgICAgICAgZHgsIGR5LCBkdywgZGgsIHN4PTAsIHN5PTAsIHN3LCBzaCwgcGFyZW50LCBzdmcsIGRlZnMsIGdyb3VwLFxuICAgICAgICAgICAgY3VycmVudEVsZW1lbnQsIHN2Z0ltYWdlLCBjYW52YXMsIGNvbnRleHQsIGlkO1xuXG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgZHggPSBhcmdzWzFdO1xuICAgICAgICAgICAgZHkgPSBhcmdzWzJdO1xuICAgICAgICAgICAgc3cgPSBpbWFnZS53aWR0aDtcbiAgICAgICAgICAgIHNoID0gaW1hZ2UuaGVpZ2h0O1xuICAgICAgICAgICAgZHcgPSBzdztcbiAgICAgICAgICAgIGRoID0gc2g7XG4gICAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDUpIHtcbiAgICAgICAgICAgIGR4ID0gYXJnc1sxXTtcbiAgICAgICAgICAgIGR5ID0gYXJnc1syXTtcbiAgICAgICAgICAgIGR3ID0gYXJnc1szXTtcbiAgICAgICAgICAgIGRoID0gYXJnc1s0XTtcbiAgICAgICAgICAgIHN3ID0gaW1hZ2Uud2lkdGg7XG4gICAgICAgICAgICBzaCA9IGltYWdlLmhlaWdodDtcbiAgICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gOSkge1xuICAgICAgICAgICAgc3ggPSBhcmdzWzFdO1xuICAgICAgICAgICAgc3kgPSBhcmdzWzJdO1xuICAgICAgICAgICAgc3cgPSBhcmdzWzNdO1xuICAgICAgICAgICAgc2ggPSBhcmdzWzRdO1xuICAgICAgICAgICAgZHggPSBhcmdzWzVdO1xuICAgICAgICAgICAgZHkgPSBhcmdzWzZdO1xuICAgICAgICAgICAgZHcgPSBhcmdzWzddO1xuICAgICAgICAgICAgZGggPSBhcmdzWzhdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW5hdmxpZCBudW1iZXIgb2YgYXJndW1lbnRzIHBhc3NlZCB0byBkcmF3SW1hZ2U6IFwiICsgYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgICAgIH1cblxuICAgICAgICBwYXJlbnQgPSB0aGlzLl9fY2xvc2VzdEdyb3VwT3JTdmcoKTtcbiAgICAgICAgY3VycmVudEVsZW1lbnQgPSB0aGlzLl9fY3VycmVudEVsZW1lbnQ7XG4gICAgICAgIHZhciB0cmFuc2xhdGVEaXJlY3RpdmUgPSBcInRyYW5zbGF0ZShcIiArIGR4ICsgXCIsIFwiICsgZHkgKyBcIilcIjtcbiAgICAgICAgaWYgKGltYWdlIGluc3RhbmNlb2YgY3R4KSB7XG4gICAgICAgICAgICAvL2NhbnZhczJzdmcgbW9jayBjYW52YXMgY29udGV4dC4gSW4gdGhlIGZ1dHVyZSB3ZSBtYXkgd2FudCB0byBjbG9uZSBub2RlcyBpbnN0ZWFkLlxuICAgICAgICAgICAgLy9hbHNvIEknbSBjdXJyZW50bHkgaWdub3JpbmcgZHcsIGRoLCBzdywgc2gsIHN4LCBzeSBmb3IgYSBtb2NrIGNvbnRleHQuXG4gICAgICAgICAgICBzdmcgPSBpbWFnZS5nZXRTdmcoKS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgICAgICBpZiAoc3ZnLmNoaWxkTm9kZXMgJiYgc3ZnLmNoaWxkTm9kZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGRlZnMgPSBzdmcuY2hpbGROb2Rlc1swXTtcbiAgICAgICAgICAgICAgICB3aGlsZShkZWZzLmNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlkID0gZGVmcy5jaGlsZE5vZGVzWzBdLmdldEF0dHJpYnV0ZShcImlkXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9faWRzW2lkXSA9IGlkO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fZGVmcy5hcHBlbmRDaGlsZChkZWZzLmNoaWxkTm9kZXNbMF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBncm91cCA9IHN2Zy5jaGlsZE5vZGVzWzFdO1xuICAgICAgICAgICAgICAgIGlmIChncm91cCkge1xuICAgICAgICAgICAgICAgICAgICAvL3NhdmUgb3JpZ2luYWwgdHJhbnNmb3JtXG4gICAgICAgICAgICAgICAgICAgIHZhciBvcmlnaW5UcmFuc2Zvcm0gPSBncm91cC5nZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIik7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0cmFuc2Zvcm1EaXJlY3RpdmU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcmlnaW5UcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybURpcmVjdGl2ZSA9IG9yaWdpblRyYW5zZm9ybStcIiBcIit0cmFuc2xhdGVEaXJlY3RpdmU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm1EaXJlY3RpdmUgPSB0cmFuc2xhdGVEaXJlY3RpdmU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZ3JvdXAuc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsIHRyYW5zZm9ybURpcmVjdGl2ZSk7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChncm91cCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGltYWdlLm5vZGVOYW1lID09PSBcIkNBTlZBU1wiIHx8IGltYWdlLm5vZGVOYW1lID09PSBcIklNR1wiKSB7XG4gICAgICAgICAgICAvL2NhbnZhcyBvciBpbWFnZVxuICAgICAgICAgICAgc3ZnSW1hZ2UgPSB0aGlzLl9fY3JlYXRlRWxlbWVudChcImltYWdlXCIpO1xuICAgICAgICAgICAgc3ZnSW1hZ2Uuc2V0QXR0cmlidXRlKFwid2lkdGhcIiwgZHcpO1xuICAgICAgICAgICAgc3ZnSW1hZ2Uuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsIGRoKTtcbiAgICAgICAgICAgIHN2Z0ltYWdlLnNldEF0dHJpYnV0ZShcIm9wYWNpdHlcIiwgdGhpcy5nbG9iYWxBbHBoYSk7XG4gICAgICAgICAgICBzdmdJbWFnZS5zZXRBdHRyaWJ1dGUoXCJwcmVzZXJ2ZUFzcGVjdFJhdGlvXCIsIFwibm9uZVwiKTtcblxuICAgICAgICAgICAgLy8gZm9yY2UgZW1iZWQgZXZlcnkgaW1hZ2VzJ3MgYmFzZTY0IGluIFNWRyBieSB1c2luZyAndHJ1ZSdcbiAgICAgICAgICAgIC8vIG1ha2VzIFNWRyBzZWxmLWNvbnRhaW5lZFxuICAgICAgICAgICAgaWYgKHRydWUgfHwgc3ggfHwgc3kgfHwgc3cgIT09IGltYWdlLndpZHRoIHx8IHNoICE9PSBpbWFnZS5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAvL2Nyb3AgdGhlIGltYWdlIHVzaW5nIGEgdGVtcG9yYXJ5IGNhbnZhc1xuICAgICAgICAgICAgICAgIGNhbnZhcyA9IHRoaXMuX19kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IGR3O1xuICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBkaDtcbiAgICAgICAgICAgICAgICBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShpbWFnZSwgc3gsIHN5LCBzdywgc2gsIDAsIDAsIGR3LCBkaCk7XG4gICAgICAgICAgICAgICAgaW1hZ2UgPSBjYW52YXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdmdJbWFnZS5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIiwgdHJhbnNsYXRlRGlyZWN0aXZlKTtcbiAgICAgICAgICAgIHN2Z0ltYWdlLnNldEF0dHJpYnV0ZU5TKFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLCBcInhsaW5rOmhyZWZcIixcbiAgICAgICAgICAgICAgICBpbWFnZS5ub2RlTmFtZSA9PT0gXCJDQU5WQVNcIiA/IGltYWdlLnRvRGF0YVVSTCgpIDogaW1hZ2UuZ2V0QXR0cmlidXRlKFwic3JjXCIpKTtcbiAgICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChzdmdJbWFnZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgcGF0dGVybiB0YWdcbiAgICAgKi9cbiAgICBjdHgucHJvdG90eXBlLmNyZWF0ZVBhdHRlcm4gPSBmdW5jdGlvbiAoaW1hZ2UsIHJlcGV0aXRpb24pIHtcbiAgICAgICAgdmFyIHBhdHRlcm4gPSB0aGlzLl9fZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXR0ZXJuXCIpLCBpZCA9IHJhbmRvbVN0cmluZyh0aGlzLl9faWRzKSxcbiAgICAgICAgICAgIGltZztcbiAgICAgICAgcGF0dGVybi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBpZCk7XG4gICAgICAgIHBhdHRlcm4uc2V0QXR0cmlidXRlKFwid2lkdGhcIiwgaW1hZ2Uud2lkdGgpO1xuICAgICAgICBwYXR0ZXJuLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLCBpbWFnZS5oZWlnaHQpO1xuICAgICAgICBpZiAoaW1hZ2Uubm9kZU5hbWUgPT09IFwiQ0FOVkFTXCIgfHwgaW1hZ2Uubm9kZU5hbWUgPT09IFwiSU1HXCIpIHtcbiAgICAgICAgICAgIGltZyA9IHRoaXMuX19kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcImltYWdlXCIpO1xuICAgICAgICAgICAgaW1nLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIGltYWdlLndpZHRoKTtcbiAgICAgICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgaW1hZ2UuaGVpZ2h0KTtcbiAgICAgICAgICAgIGltZy5zZXRBdHRyaWJ1dGVOUyhcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiwgXCJ4bGluazpocmVmXCIsXG4gICAgICAgICAgICAgICAgaW1hZ2Uubm9kZU5hbWUgPT09IFwiQ0FOVkFTXCIgPyBpbWFnZS50b0RhdGFVUkwoKSA6IGltYWdlLmdldEF0dHJpYnV0ZShcInNyY1wiKSk7XG4gICAgICAgICAgICBwYXR0ZXJuLmFwcGVuZENoaWxkKGltZyk7XG4gICAgICAgICAgICB0aGlzLl9fZGVmcy5hcHBlbmRDaGlsZChwYXR0ZXJuKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbWFnZSBpbnN0YW5jZW9mIGN0eCkge1xuICAgICAgICAgICAgcGF0dGVybi5hcHBlbmRDaGlsZChpbWFnZS5fX3Jvb3QuY2hpbGROb2Rlc1sxXSk7XG4gICAgICAgICAgICB0aGlzLl9fZGVmcy5hcHBlbmRDaGlsZChwYXR0ZXJuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IENhbnZhc1BhdHRlcm4ocGF0dGVybiwgdGhpcyk7XG4gICAgfTtcblxuICAgIGN0eC5wcm90b3R5cGUuc2V0TGluZURhc2ggPSBmdW5jdGlvbiAoZGFzaEFycmF5KSB7XG4gICAgICAgIGlmIChkYXNoQXJyYXkgJiYgZGFzaEFycmF5Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMubGluZURhc2ggPSBkYXNoQXJyYXkuam9pbihcIixcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxpbmVEYXNoID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBOb3QgeWV0IGltcGxlbWVudGVkXG4gICAgICovXG4gICAgY3R4LnByb3RvdHlwZS5kcmF3Rm9jdXNSaW5nID0gZnVuY3Rpb24gKCkge307XG4gICAgY3R4LnByb3RvdHlwZS5jcmVhdGVJbWFnZURhdGEgPSBmdW5jdGlvbiAoKSB7fTtcbiAgICBjdHgucHJvdG90eXBlLmdldEltYWdlRGF0YSA9IGZ1bmN0aW9uICgpIHt9O1xuICAgIGN0eC5wcm90b3R5cGUucHV0SW1hZ2VEYXRhID0gZnVuY3Rpb24gKCkge307XG4gICAgY3R4LnByb3RvdHlwZS5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBmdW5jdGlvbiAoKSB7fTtcbiAgICBjdHgucHJvdG90eXBlLnNldFRyYW5zZm9ybSA9IGZ1bmN0aW9uICgpIHt9O1xuXG4gICAgLy9hZGQgb3B0aW9ucyBmb3IgYWx0ZXJuYXRpdmUgbmFtZXNwYWNlXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgd2luZG93LkMyUyA9IGN0eDtcbiAgICB9XG5cbiAgICAvLyBDb21tb25KUy9Ccm93c2VyaWZ5XG4gICAgaWYgKHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gY3R4O1xuICAgIH1cblxufSgpKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=